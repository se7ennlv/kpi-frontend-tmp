"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[5144],{209:(B,g,i)=>{i.d(g,{A:()=>e,G:()=>t});let t=(()=>{class r{}return r.LIMIT=4,r})(),e=(()=>{class r{}return r.sm=576,r.md=768,r.lg=992,r.xl=1200,r})()},2008:(B,g,i)=>{i.d(g,{l:()=>d});var t=i(6895),e=i(4466),r=i(666),_=i(8274);let d=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[t.ez,e.m,r.kW]}),u})()},8739:(B,g,i)=>{i.d(g,{Q:()=>D});var t=i(8274),e=i(6895),r=i(8639);function _(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0ec0\u0ea7\u0ea5\u0eb2"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA()()),2&o){const a=t.oxw(3);t.xp6(5),t.Oqu(t.xi3(6,1,null==a.item?null:a.item.indicatorTime,"dd/MM/yyyy HH:mm"))}}function d(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e9b\u0eb0\u0ea5\u0eb4\u0ea1\u0eb2\u0e99"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&o){const a=t.oxw(3);t.xp6(5),t.hij(" ",null==a.item?null:a.item.indicatorQuantity,"")}}function u(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e84\u0eb8\u0e99\u0e99\u0eb0\u0e9e\u0eb2\u0e9a"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&o){const a=t.oxw(3);t.xp6(5),t.Oqu(null==a.item||null==a.item.indicatorQuality?null:a.item.indicatorQuality.subject)}}function p(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e84\u0ea7\u0eb2\u0ea1\u0ec0\u0e9e\u0eb4\u0ec8\u0e87\u0e9e\u0ecd\u0ec3\u0e88"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&o){const a=t.oxw(3);t.xp6(5),t.Oqu(null==a.item||null==a.item.indicatorSatisfied?null:a.item.indicatorSatisfied.subject)}}function m(o,E){if(1&o&&(t.ynx(0),t.YNc(1,_,7,4,"tr",0),t.YNc(2,d,6,1,"tr",0),t.YNc(3,u,6,1,"tr",0),t.YNc(4,p,6,1,"tr",0),t.BQk()),2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==a.item?null:a.item.indicatorTime),t.xp6(1),t.Q6J("ngIf",null==a.item?null:a.item.indicatorQuantity),t.xp6(1),t.Q6J("ngIf",null==a.item?null:a.item.indicatorQuality),t.xp6(1),t.Q6J("ngIf",null==a.item?null:a.item.indicatorSatisfied)}}function h(o,E){if(1&o&&(t.ynx(0),t.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"\u0e81\u0eb2\u0e99\u0e95\u0eb1\u0ec9\u0e87\u0e95\u0ebb\u0ea7\u0e8a\u0eb5\u0ec9\u0ea7\u0eb1\u0e94"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,m,5,4,"ng-container",0),t.qZA()(),t.BQk()),2&o){const a=t.oxw();t.xp6(7),t.Q6J("ngIf",a.item)}}function s(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0ec0\u0ea7\u0ea5\u0eb2"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td",6),t._UZ(8,"p-badge",7),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(5),t.hij(" ",t.xi3(6,2,null==a.item||null==a.item.task?null:a.item.task.indicatorTime,"dd/MM/yyyy HH:mm")," "),t.xp6(3),t.s9C("value",a.item.selfTimeScore)}}function c(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e9b\u0eb0\u0ea5\u0eb4\u0ea1\u0eb2\u0e99"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",6),t._UZ(7,"p-badge",7),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(5),t.hij(" ",null==a.item||null==a.item.task?null:a.item.task.indicatorQuantity," "),t.xp6(2),t.s9C("value",null==a.item?null:a.item.selfQuantityScore)}}function l(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e84\u0eb8\u0e99\u0e99\u0eb0\u0e9e\u0eb2\u0e9a"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",6),t._UZ(7,"p-badge",7),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(5),t.hij(" ",null==a.item||null==a.item.task||null==a.item.task.indicatorQuality?null:a.item.task.indicatorQuality.subject," "),t.xp6(2),t.s9C("value",null==a.item?null:a.item.selfQualityScore)}}function f(o,E){if(1&o&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",4),t._uU(3,"\u0e94\u0ec9\u0eb2\u0e99\u0e84\u0ea7\u0eb2\u0ea1\u0ec0\u0e9e\u0eb4\u0ec8\u0e87\u0e9e\u0ecd\u0ec3\u0e88"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",6),t._UZ(7,"p-badge",7),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(5),t.hij(" ",null==a.item||null==a.item.task||null==a.item.task.indicatorSatisfied?null:a.item.task.indicatorSatisfied.subject," "),t.xp6(2),t.s9C("value",null==a.item?null:a.item.selfSatisfiedScore)}}function A(o,E){if(1&o&&(t.ynx(0),t.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"\u0e81\u0eb2\u0e99\u0e95\u0eb1\u0ec9\u0e87\u0e95\u0ebb\u0ea7\u0e8a\u0eb5\u0ec9\u0ea7\u0eb1\u0e94\u0e82\u0ead\u0e87 (\u0eab\u0ebb\u0ea7\u0edc\u0ec9\u0eb2)"),t.qZA(),t.TgZ(6,"th",5),t._uU(7,"\u0e81\u0eb2\u0e99\u0ec3\u0eab\u0ec9\u0e84\u0eb0\u0ec1\u0e99\u0e99\u0e82\u0ead\u0e87 (\u0eaa\u0eb0\u0ea1\u0eb2\u0e8a\u0eb4\u0e81)"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,s,9,5,"tr",0),t.YNc(10,c,8,2,"tr",0),t.YNc(11,l,8,2,"tr",0),t.YNc(12,f,8,2,"tr",0),t.qZA()(),t.BQk()),2&o){const a=t.oxw();t.xp6(9),t.Q6J("ngIf",null==a.item||null==a.item.task?null:a.item.task.indicatorTime),t.xp6(1),t.Q6J("ngIf",null==a.item||null==a.item.task?null:a.item.task.indicatorQuantity),t.xp6(1),t.Q6J("ngIf",null==a.item||null==a.item.task?null:a.item.task.indicatorQuality),t.xp6(1),t.Q6J("ngIf",null==a.item||null==a.item.task?null:a.item.task.indicatorSatisfied)}}let D=(()=>{class o{constructor(){this.isHead=!1}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-indicator-detail"]],inputs:{item:"item",isHead:"isHead"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"table-custom","my-4"],["colspan","2",1,"text-left","text-lg","white-space-nowrap"],[1,"white-space-nowrap"],[1,"font-bold"],[1,"text-lg","text-center","white-space-nowrap"],[1,"text-center"],[3,"value"]],template:function(a,n){1&a&&(t.YNc(0,h,8,1,"ng-container",0),t.YNc(1,A,13,4,"ng-container",0)),2&a&&(t.Q6J("ngIf",!n.isHead),t.xp6(1),t.Q6J("ngIf",n.isHead))},dependencies:[e.O5,r.Ct,e.uU],encapsulation:2}),o})()},3948:(B,g,i)=>{i.d(g,{h:()=>u});var t=i(8274),e=i(6895),r=i(6679);const _=function(p){return{background:p}};function d(p,m){if(1&p&&(t.ynx(0),t.TgZ(1,"p-tag",1)(2,"div",2),t._UZ(3,"i",3),t.TgZ(4,"span",4),t._uU(5),t.qZA()()(),t.BQk()),2&p){const h=m.ngIf;t.xp6(1),t.Akn(t.VKq(6,_,h.color)),t.Q6J("rounded",!0),t.xp6(2),t.Tol(h.icon),t.xp6(2),t.Oqu(h.name)}}let u=(()=>{class p{constructor(){}ngOnInit(){}trackByFn(h,s){return s.id||h}}return p.\u0275fac=function(h){return new(h||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-task-status"]],inputs:{taskStatus:"taskStatus"},decls:1,vars:1,consts:[[4,"ngIf"],["styleClass","px-3",3,"rounded"],[1,"flex","align-items-center","gap-1"],[2,"font-size","11px"],[1,"font-semibold",2,"font-size","11px"]],template:function(h,s){1&h&&t.YNc(0,d,6,8,"ng-container",0),2&h&&t.Q6J("ngIf",s.taskStatus)},dependencies:[e.O5,r.V],encapsulation:2}),p})()},6522:(B,g,i)=>{i.d(g,{_:()=>t});class t{static getWaiting(r,_=!0){let d=["main.id","main.docYear","main.taskId","main.taskSubject","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.selfCode","main.createdAt","main.isLock","staff.staffCode","staff.firstName","staff.lastName","status.icon","status.name","status.color"];return _&&d.push("main.taskWfId"),{query:{fields:d,joins:["staff","status"],filters:r,getType:"MANY"}}}static getMany(r){return{query:{fields:["main.docYear","main.id","main.taskId","main.taskSubject","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.headTimeScore","main.headQuantityScore","main.headQualityScore","main.headSatisfiedScore","main.selfCode","main.createdAt","main.headActionAt","main.isLock","staff.staffCode","staff.firstName","staff.lastName","status.icon","status.name","status.color"],joins:["staff","status"],filters:r,getType:"MANY"}}}static getDetail(r,_=!0){const d=["main.docYear","main.id","main.taskId","main.taskSubject","main.reportDetail","main.scheduledStart","main.scheduledEnd","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.selfCode","main.headTimeScore","main.headQuantityScore","main.headQualityScore","main.headSatisfiedScore","main.createdAt","main.headActionAt","main.comment","task.indicatorTime","task.indicatorQuantity","iq.id","iq.subject","is.id","is.subject","priority.name","priority.color","priority.score","staff.staffCode","staff.firstName","staff.lastName","head.staffCode","head.firstName","head.lastName","status.icon","status.name","status.color","attached.fileName","attached.filePath"];return _&&d.push("main.taskWfId"),{query:{fields:d,joins:["task","iq","is","priority","staff","head","status","attached"],filters:r,getType:"ONE"}}}static getPlanSubDetail(r){return{query:{fields:["main.id","main.docYear","main.taskWfId","main.taskId","main.taskSubject","main.reportDetail","main.scheduledStart","main.scheduledEnd","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.selfCode","main.headTimeScore","main.headQuantityScore","main.headQualityScore","main.headSatisfiedScore","main.createdAt","main.headActionAt","main.comment","task.indicatorTime","task.indicatorQuantity","iq.id","iq.subject","is.id","is.subject","staff.staffCode","staff.firstName","staff.lastName","head.staffCode","head.firstName","head.lastName","status.icon","status.name","status.color","attached.fileName","attached.filePath"],joins:["task","iq","is","staff","head","status","attached"],filters:r,getType:"ONE"}}}}},9169:(B,g,i)=>{i.d(g,{N:()=>p});var t=i(1135),e=i(8505),r=i(4004),_=i(2340),d=i(8274),u=i(529);let p=(()=>{class m{constructor(s){this.http=s,this.apiUrl=`${_.N.apiUrl}/v1/plan-sub-evaluations`,this.item=new t.X(null),this.item$=this.item.asObservable(),this.items=new t.X([]),this.items$=this.items.asObservable()}getOne(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.item.next(l.data)}))}getMany(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.items.next(l.data)}))}update(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,r.U)(f=>{if(200===f?.statusCode&&f?.data){const D=this.items.getValue().map(o=>o.id===s?{...o,...c}:o);return this.items.next(D),!0}return!1}))}updateAndRemove(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,e.b)(f=>{200===f?.statusCode&&this.removeItemFromList(s)}))}removeItemFromList(s){const l=this.items.getValue().filter(f=>f?.id!==s);this.items.next(l)}}return m.\u0275fac=function(s){return new(s||m)(d.LFG(u.eN))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},6915:(B,g,i)=>{i.d(g,{r:()=>a});var t=i(2156),e=i(3949),r=i(655),_=i(4090);class d{}(0,r.gn)([(0,t.C1)()],d.prototype,"comment",void 0),(0,r.gn)([(0,t.vg)({defaultValue:_.hY.REJECTED}),(0,t.C1)()],d.prototype,"statusId",void 0);var u=i(8274),p=i(4325),m=i(841),h=i(704),s=i(9169),c=i(6922),l=i(830),f=i(6895),A=i(433),D=i(5593),o=i(3054);function E(n,C){if(1&n&&(u.TgZ(0,"small",11),u._uU(1),u.qZA()),2&n){const v=u.oxw();u.xp6(1),u.hij(" *",null==v.controls.headComment.errors.required?null:v.controls.headComment.errors.required.message," ")}}let a=(()=>{class n{constructor(v,T,x,I,y,U,S,O){this.dialogRef=v,this.fb=T,this.dialogConfig=x,this.formService=I,this.alertService=y,this.planHeadEvalService=U,this.assignHeadEvalService=S,this.descHeadEvalService=O,this.submitted=!1,this.headEvalServices={PLAN:this.planHeadEvalService,ASSIGN:this.assignHeadEvalService,DESC:this.descHeadEvalService},this.formGroup=this.fb.formGroup(new d),t.jc.set(this.formService.validationMessages)}get controls(){return this.formGroup.controls}ngOnInit(){this.dialogData=this.dialogConfig.data.data,this.docId=this.dialogData.id,this.taskType=this.dialogData.taskType}getHeadEvalService(v){switch(v){case"PLAN":return this.planHeadEvalService;case"ASSIGN":return this.assignHeadEvalService;case"DESC":return this.descHeadEvalService;default:return}}onReject(){if(this.submitted=!0,this.formGroup.invalid||!this.docId)return;const v=this.formGroup.value;if(this.formGroup.disable(),""!==e.pd[this.taskType]){const x=this.getHeadEvalService(this.taskType);x?x.updateAndRemove(this.docId,v).subscribe({next:I=>{I&&this.dialogRef&&(this.dialogRef.close(),this.alertService.showSuccess("\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81\u0ec1\u0ea5\u0ec9\u0ea7"))},error:I=>{this.formGroup.enable(),this.alertService.showError(I)}}):this.alertService.showDanger("No matched service")}}}return n.\u0275fac=function(v){return new(v||n)(u.Y36(p.E7),u.Y36(t.GW),u.Y36(p.S),u.Y36(m.k),u.Y36(h.c),u.Y36(s.N),u.Y36(c.r),u.Y36(l.P))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-reject-form"]],decls:12,vars:2,consts:[[1,"grid"],[1,"col-12"],[3,"formGroup"],[1,"formgrid","grid","p-fluid"],[1,"field","col-12"],["for","headComment",1,"font-semibold","text-lg","mb-0"],["class","p-error",4,"ngIf"],["rows","3","cols","20","pInputTextarea","","formControlName","headComment",1,"w-full"],[1,"mt-5","text-right"],["pButton","","pRipple","","icon","pi pi-times","label","\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81",1,"p-button-outlined",3,"click"],["pButton","","pRipple","","icon","pi pi-save","label","\u0e9a\u0eb1\u0e99\u0e97\u0eb6\u0e81",1,"ml-2",3,"click"],[1,"p-error"]],template:function(v,T){1&v&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),u._uU(6,"\u0e81\u0eb0\u0ea5\u0eb8\u0e99\u0eb2\u0e9b\u0ec9\u0ead\u0e99\u0ec0\u0eab\u0e94\u0e9c\u0ebb\u0e99 "),u.YNc(7,E,2,1,"small",6),u.qZA(),u._UZ(8,"textarea",7),u.qZA()()()()(),u.TgZ(9,"div",8)(10,"button",9),u.NdJ("click",function(){return T.dialogRef.close()}),u.qZA(),u.TgZ(11,"button",10),u.NdJ("click",function(){return T.onReject()}),u.qZA()()),2&v&&(u.xp6(2),u.Q6J("formGroup",T.formGroup),u.xp6(5),u.Q6J("ngIf",T.submitted&&T.controls.headComment.errors))},dependencies:[f.O5,A._Y,A.Fj,A.JJ,A.JL,A.sg,A.u,t.bc,t.VP,t.YE,D.Hq,o.g],encapsulation:2}),n})()},5442:(B,g,i)=>{i.d(g,{z:()=>o});var t=i(7579),e=i(8274),r=i(4325),_=i(1481),d=i(1094),u=i(704),p=i(6895),m=i(7147),h=i(8739),s=i(3948),c=i(3609);function l(E,a){if(1&E){const n=e.EpF();e.TgZ(0,"p-chip",14),e.NdJ("click",function(){const T=e.CHM(n).$implicit,x=e.oxw(3);return e.KtG(x.showPreviewFromUrl(null==T?null:T.filePath))}),e._UZ(1,"i",15),e.TgZ(2,"span",16),e._uU(3),e.qZA()()}if(2&E){const n=a.$implicit;e.xp6(3),e.hij("",null==n?null:n.fileName," ")}}function f(E,a){if(1&E&&(e.ynx(0),e.TgZ(1,"div",6)(2,"label",5),e._uU(3,"\u0ec0\u0ead\u0e81\u0eb0\u0eaa\u0eb2\u0e99\u0ec1\u0e99\u0e9a"),e.qZA(),e._UZ(4,"hr",11),e.TgZ(5,"div",12),e.YNc(6,l,4,1,"ng-template",13),e.qZA()(),e.BQk()),2&E){const n=e.oxw().ngIf;e.xp6(6),e.Q6J("ngForOf",n.attachments)}}function A(E,a){if(1&E&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div")(3,"label",4),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"label",5),e._uU(7,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99:"),e.qZA(),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div",6)(11,"label",5),e._uU(12,"\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99\u0ec2\u0e94\u0e8d:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div",6)(15,"label",5),e._uU(16,"\u0edc\u0ec9\u0eb2\u0ea7\u0ebd\u0e81"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"p"),e._uU(19),e.qZA()(),e.TgZ(20,"div",6)(21,"label",5),e._uU(22,"\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94\u0e84\u0ea7\u0eb2\u0ea1\u0e84\u0eb7\u0e9a\u0edc\u0ec9\u0eb2:"),e.qZA(),e._UZ(23,"br")(24,"p",7),e.qZA(),e.TgZ(25,"div")(26,"label",5),e._uU(27,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ec0\u0ea5\u0eb5\u0ec8\u0ea1\u0e9b\u0eb0\u0e95\u0eb4\u0e9a\u0eb1\u0e94:"),e.qZA(),e._uU(28),e.ALo(29,"date"),e.qZA(),e.TgZ(30,"div",6)(31,"label",5),e._uU(32,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0eaa\u0eb3\u0ec0\u0ea5\u0eb1\u0e94:"),e.qZA(),e._uU(33),e.ALo(34,"date"),e.qZA(),e.TgZ(35,"div",6),e._UZ(36,"app-indicator-detail",8),e.qZA(),e.TgZ(37,"div",9)(38,"label",5),e._uU(39,"\u0eaa\u0eb0\u0e96\u0eb2\u0e99\u0eb0:"),e.qZA(),e._UZ(40,"app-task-status",10),e.qZA(),e.YNc(41,f,7,1,"ng-container",2),e.qZA(),e.BQk()),2&E){const n=a.ngIf,C=e.oxw();e.xp6(4),e.hij("\u0e9b\u0eb0\u0e88\u0eb3\u0e9b\u0eb5: ",null==n?null:n.docYear,""),e.xp6(4),e.hij(" ",e.xi3(9,12,null==n?null:n.createdAt,"dd/MM/yyyy HH:mm")," "),e.xp6(5),e.AsE(" ",null==n||null==n.staff?null:n.staff.firstName," ",null==n||null==n.staff?null:n.staff.lastName," "),e.xp6(6),e.Oqu(null==n?null:n.taskSubject),e.xp6(5),e.Q6J("innerHTML",C.transform(null==n?null:n.reportDetail),e.oJD),e.xp6(4),e.hij(" ",e.xi3(29,15,null==n?null:n.scheduledStart,"dd/MM/yyyy")," "),e.xp6(5),e.hij(" ",e.xi3(34,18,null==n?null:n.scheduledEnd,"dd/MM/yyyy HH:mm")," "),e.xp6(3),e.Q6J("item",n)("isHead",!0),e.xp6(4),e.Q6J("taskStatus",null==n?null:n.status),e.xp6(1),e.Q6J("ngIf",n.attachments&&n.attachments.length)}}function D(E,a){if(1&E){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-file-preview",17),e.NdJ("closePreview",function(){e.CHM(n);const v=e.oxw();return e.KtG(v.closeImgPreview())}),e.qZA(),e.BQk()}if(2&E){const n=e.oxw();e.xp6(1),e.Q6J("selectedFileOrUrl",n.fileSrc)}}let o=(()=>{class E{constructor(n,C,v,T,x){this.dialogConfig=n,this.dialogRef=C,this.sanitizer=v,this.utilService=T,this.alertService=x,this.visiblePreview=!1,this.destroy$=new t.x}ngOnInit(){this.evaluation=this.dialogConfig.data.data}transform(n){return this.sanitizer.bypassSecurityTrustHtml(n)}closeImgPreview(){this.visiblePreview=!1}showPreviewFromUrl(n){n&&(this.utilService.isValidUrl(n)?(this.fileSrc=n,this.visiblePreview=!0):this.alertService.showDanger("\u0eae\u0eb9\u0e9a\u0ec1\u0e9a\u0e9a\u0e97\u0eb5\u0ec8\u0ea2\u0eb9\u0ec8\u0e82\u0ead\u0e87\u0ec4\u0e9f\u0ea5\u0ecc\u0e9a\u0ecd\u0ec8\u0e96\u0eb7\u0e81\u0e95\u0ec9\u0ead\u0e87!"))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return E.\u0275fac=function(n){return new(n||E)(e.Y36(r.S),e.Y36(r.E7),e.Y36(_.H7),e.Y36(d.F),e.Y36(u.c))},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-report-detail"]],decls:4,vars:2,consts:[[1,"grid"],[1,"col-12"],[4,"ngIf"],[1,"p-fluid"],[1,"font-semibold","text-xl"],[1,"font-semibold","text-xl","mb-0"],[1,"field"],[3,"innerHTML"],[3,"item","isHead"],[1,"field","flex","align-items-center","gap-2"],[3,"taskStatus"],[1,"mt-0"],[1,"flex","gap-2"],["ngFor","",3,"ngForOf"],["styleClass","cursor-pointer",3,"click"],[1,"pi","pi-paperclip","mr-2","text-green-500"],[1,"w-8rem","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[3,"selectedFileOrUrl","closePreview"]],template:function(n,C){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,A,42,21,"ng-container",2),e.qZA()(),e.YNc(3,D,2,1,"ng-container",2)),2&n&&(e.xp6(2),e.Q6J("ngIf",C.evaluation),e.xp6(1),e.Q6J("ngIf",C.visiblePreview))},dependencies:[p.sg,p.O5,m.A,h.Q,s.h,c.Q,p.uU],encapsulation:2}),E})()},9737:(B,g,i)=>{i.d(g,{P:()=>d,t:()=>_});var t=i(655),e=i(2156),r=i(4090);class _{}(0,t.gn)([(0,e.vg)({defaultValue:null})],_.prototype,"taskWfId",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],_.prototype,"headTimeScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],_.prototype,"headQuantityScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],_.prototype,"headQualityScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],_.prototype,"headSatisfiedScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:r.hY.EVALUATED})],_.prototype,"statusId",void 0),(0,t.gn)([(0,e.C1)()],_.prototype,"comment",void 0);class d{}(0,t.gn)([(0,e.vg)({defaultValue:0})],d.prototype,"headTimeScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],d.prototype,"headQuantityScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],d.prototype,"headQualityScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:0})],d.prototype,"headSatisfiedScore",void 0),(0,t.gn)([(0,e.vg)({defaultValue:r.hY.EVALUATED})],d.prototype,"statusId",void 0),(0,t.gn)([(0,e.C1)()],d.prototype,"comment",void 0)},6922:(B,g,i)=>{i.d(g,{r:()=>p});var t=i(1135),e=i(8505),r=i(4004),_=i(2340),d=i(8274),u=i(529);let p=(()=>{class m{constructor(s){this.http=s,this.apiUrl=`${_.N.apiUrl}/v1/assign-evaluations`,this.item=new t.X(null),this.item$=this.item.asObservable(),this.items=new t.X([]),this.items$=this.items.asObservable()}getOne(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.item.next(l.data)}))}getMany(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.items.next(l.data)}))}update(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,r.U)(f=>{if(200===f?.statusCode&&f?.data){const D=this.items.getValue().map(o=>o.id===s?{...o,...c}:o);return this.items.next(D),!0}return!1}))}updateAndRemove(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,e.b)(f=>{200===f?.statusCode&&this.removeItemFromList(s)}))}removeItemFromList(s){const l=this.items.getValue().filter(f=>f?.id!==s);this.items.next(l)}}return m.\u0275fac=function(s){return new(s||m)(d.LFG(u.eN))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},830:(B,g,i)=>{i.d(g,{P:()=>p});var t=i(1135),e=i(8505),r=i(4004),_=i(2340),d=i(8274),u=i(529);let p=(()=>{class m{constructor(s){this.http=s,this.apiUrl=`${_.N.apiUrl}/v1/desc-evaluations`,this.item=new t.X(null),this.item$=this.item.asObservable(),this.items=new t.X([]),this.items$=this.items.asObservable()}getOne(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.item.next(l.data)}))}getMany(s){return this.http.post(`${this.apiUrl}/find`,s).pipe((0,e.b)(l=>{200===l?.statusCode&&l?.data&&this.items.next(l.data)}))}update(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,r.U)(f=>{if(200===f?.statusCode&&f?.data){const D=this.items.getValue().map(o=>o.id===s?{...o,...c}:o);return this.items.next(D),!0}return!1}))}updateAndRemove(s,c){return this.http.patch(`${this.apiUrl}/head/${s}`,c).pipe((0,e.b)(f=>{200===f?.statusCode&&this.removeItemFromList(s)}))}removeItemFromList(s){const l=this.items.getValue().filter(f=>f?.id!==s);this.items.next(l)}}return m.\u0275fac=function(s){return new(s||m)(d.LFG(u.eN))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);