"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[8592],{3972:(T,v,e)=>{e.r(v),e.d(v,{ApprovalModule:()=>B});var t=e(6895),o=e(5675);let m=(()=>{class a{}return a.ADMIN=1,a.MD=2,a.DMD=3,a.HODE=4,a.DHODE=5,a.HODI=6,a.DHODI=7,a.HOF=8,a.DOF=9,a.HOU=10,a.DHOU=11,a.HOT=12,a.DHOT=13,a.BASIC=13,a})();var i=e(8274),f=e(8386),d=e(6163),c=e(805);function r(a,M){if(1&a&&(i.TgZ(0,"a",3)(1,"div"),i._UZ(2,"span",4),i.TgZ(3,"span",5),i._uU(4),i.qZA()()()),2&a){const s=M.$implicit;i.xp6(2),i.Tol(s.icon),i.xp6(2),i.hij(" ",s.label,"")}}let _=(()=>{class a{constructor(s){this.userService=s,this.menuItems=[]}ngOnInit(){this.user=this.userService.getLoggedUser(),this.setupMenuItems()}setupMenuItems(){if(this.user&&this.user.role){switch(this.user.role.id){case m.MD:this.menuItems=[{label:"\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99 (KPIs) \u0e9a\u0eb8\u0e81\u0e84\u0ebb\u0e99",icon:"pi pi-fw pi-users",routerLink:"kpi-div"},{label:"\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e82\u0ead\u0e87\u0e9d\u0ec8\u0eb2\u0e8d",icon:"pi pi-fw pi-check-square",routerLink:"approval/departments"}];break;case m.HODE:this.menuItems=[{label:"\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99 (KPIs) \u0e9a\u0eb8\u0e81\u0e84\u0ebb\u0e99",icon:"pi pi-fw pi-users",routerLink:"kpi-dept"}];break;case m.HODI:this.menuItems=[{label:"\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99 (KPIs) \u0e9a\u0eb8\u0e81\u0e84\u0ebb\u0e99",icon:"pi pi-fw pi-users",routerLink:"kpi-div"}]}this.menuItems.length>0&&(this.activeItem=this.menuItems[0])}}}return a.\u0275fac=function(s){return new(s||a)(i.Y36(f.K))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-approval"]],decls:5,vars:2,consts:[[1,"card","pb-6"],[3,"model","activeItem"],["pTemplate","item"],[1,"flex","justify-content-between","align-items-center"],[2,"font-size","1.5rem"],[1,"text-2xl"]],template:function(s,E){1&s&&(i.TgZ(0,"div",0)(1,"p-tabMenu",1),i.YNc(2,r,5,3,"ng-template",2),i.qZA(),i.TgZ(3,"div"),i._UZ(4,"router-outlet"),i.qZA()()),2&s&&(i.xp6(1),i.Q6J("model",E.menuItems)("activeItem",E.activeItem))},dependencies:[o.lC,d.d,c.jx],encapsulation:2}),a})(),g=(()=>{class a{constructor(s,E){this.userService=s,this.router=E}canActivate(s,E){const D=this.userService.getLoggedUser()?.role?.id,O=E.url;if(D===m.HODE&&O.includes("/kpi-dept")||D===m.HODI&&O.includes("/kpi-div"))return!0;switch(D){case m.HODE:return this.router.navigate(["../approval/kpi-dept"]),!1;case m.HODI:return this.router.navigate(["../approval/kpi-div"]),!1;default:return!0}}}return a.\u0275fac=function(s){return new(s||a)(i.LFG(f.K),i.LFG(o.F0))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var h=e(263);let u=(()=>{class a{constructor(s,E){this.authService=s,this.router=E}canActivate(s,E){return this.checkAuthRole(s)}canActivateChild(s,E){return!0}canDeactivate(s,E,n,D){return!0}canLoad(s,E){return this.checkAuthRole(s)}checkAuthRole(s){const E=s.data?.roleId;return E===this.authService.getUserRole()||(this.router.navigate(["/signin"]),!1)}}return a.\u0275fac=function(s){return new(s||a)(i.LFG(h.e),i.LFG(o.F0))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const p=[{path:"",component:_,canActivate:[g],children:[{path:"kpi-div",data:{roleId:m.HODI},canLoad:[u],loadChildren:()=>Promise.all([e.e(666),e.e(5047),e.e(8073),e.e(3958),e.e(585),e.e(605),e.e(9586),e.e(505)]).then(e.bind(e,505)).then(a=>a.KpiDivApprModule)},{path:"kpi-dept",data:{roleId:m.HODE},canLoad:[u],loadChildren:()=>Promise.all([e.e(666),e.e(5047),e.e(8073),e.e(3958),e.e(585),e.e(605),e.e(9586),e.e(8592),e.e(4782)]).then(e.bind(e,4782)).then(a=>a.KpiDeptApprModule)},{path:"departments",loadChildren:()=>Promise.all([e.e(666),e.e(5047),e.e(8073),e.e(3958),e.e(585),e.e(1493),e.e(9992),e.e(8592),e.e(2016)]).then(e.bind(e,2016)).then(a=>a.ApprDepartmentModule)},{path:"divisions",loadChildren:()=>Promise.all([e.e(666),e.e(5047),e.e(8073),e.e(3958),e.e(585),e.e(1493),e.e(9992),e.e(8592),e.e(7515)]).then(e.bind(e,7515)).then(a=>a.ApprDivisionModule)}]}];let l=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[o.Bz.forChild(p),o.Bz]}),a})();var C=e(5108),A=e(5593),y=e(4325),I=e(4466);let B=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[y.E7,y.xA],imports:[t.ez,l,I.m,C.x,A.hJ,d.i]}),a})()},3836:(T,v,e)=>{e.d(v,{R:()=>i});var t=e(8274),o=e(4325),m=e(8065);let i=(()=>{class f{constructor(c){this.dialogConfig=c}ngOnInit(){this.workflows=this.dialogConfig.data.data}trackByFn(c,r){return r.id}}return f.\u0275fac=function(c){return new(c||f)(t.Y36(o.S))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-assignment"]],decls:3,vars:1,consts:[[1,"grid"],[1,"col-12"],[3,"workflows"]],template:function(c,r){1&c&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-task-workflow",2),t.qZA()()),2&c&&(t.xp6(2),t.Q6J("workflows",r.workflows))},dependencies:[m.I],encapsulation:2}),f})()},7639:(T,v,e)=>{e.d(v,{n:()=>i});var t=e(6895),o=e(4248),m=e(8274);let i=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[t.ez,o.W]}),f})()},9137:(T,v,e)=>{e.d(v,{W:()=>M});var t=e(8274),o=e(433),m=e(7579),i=e(2722),f=e(2569),d=e(8386),c=e(1601),r=e(6895),_=e(2156),g=e(666),h=e(805);function u(s,E){if(1&s&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.Oqu(n.sublabel)}}function p(s,E){if(1&s&&(t.TgZ(0,"small",4),t._uU(1),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.hij(" *",null==n.control.errors.required?null:n.control.errors.required.message," ")}}function l(s,E){if(1&s&&(t.ynx(0),t.TgZ(1,"label",2)(2,"span"),t._uU(3),t.YNc(4,u,2,1,"small",1),t.qZA(),t.YNc(5,p,2,1,"small",3),t.qZA(),t.BQk()),2&s){const n=t.oxw();t.xp6(3),t.Oqu(n.label),t.xp6(1),t.Q6J("ngIf",n.sublabel),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.control.errors)}}function C(s,E){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=E.$implicit;t.xp6(1),t.lnq("[",null==n?null:n.staffCode,"]-",null==n?null:n.firstName," ",null==n?null:n.lastName,"")}}function A(s,E){if(1&s&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t.TgZ(2,"span",13),t._uU(3),t.qZA()()),2&s){const n=E.$implicit;t.xp6(3),t.lnq("[",null==n?null:n.staffCode,"]-",null==n?null:n.firstName," ",null==n?null:n.lastName,"")}}function y(s,E){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"span",6),t._UZ(3,"i",7),t.qZA(),t.TgZ(4,"p-dropdown",8),t.NdJ("onChange",function(O){t.CHM(n);const P=t.oxw();return t.KtG(P.onDropdownChange(O))})("onFocus",function(){t.CHM(n);const O=t.oxw();return t.KtG(O.getStaffs())}),t.ALo(5,"async"),t.YNc(6,C,2,3,"ng-template",9),t.YNc(7,A,4,3,"ng-template",10),t.qZA()(),t.BQk()}if(2&s){const n=t.oxw();t.xp6(4),t.Q6J("options",n.staffs)("virtualScroll",!0)("virtualScrollItemSize",10)("filter",!0)("showClear",n.showClear)("emptyMessage",t.lcZ(5,8,n.loading$)?"\u0e81\u0eb3\u0ea5\u0eb1\u0e87\u0ec2\u0eab\u0ebc\u0e94..":"\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99")("placeholder",n.placeholder)("formControlName",n.formControlName)}}function I(s,E){if(1&s&&(t.TgZ(0,"div",11)(1,"span",13),t._uU(2),t.qZA()()),2&s){const n=E.$implicit;t.xp6(2),t.lnq("[",null==n?null:n.staffCode,"]-",null==n?null:n.firstName," ",null==n?null:n.lastName,"")}}function B(s,E){if(1&s&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t.TgZ(2,"span",13),t._uU(3),t.qZA()()),2&s){const n=E.$implicit;t.xp6(3),t.lnq("[",null==n?null:n.staffCode,"]-",null==n?null:n.firstName," ",null==n?null:n.lastName,"")}}function a(s,E){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"p-dropdown",14),t.NdJ("onChange",function(O){t.CHM(n);const P=t.oxw();return t.KtG(P.onDropdownChange(O))})("onFocus",function(){t.CHM(n);const O=t.oxw();return t.KtG(O.getStaffs())}),t.ALo(2,"async"),t.YNc(3,I,3,3,"ng-template",9),t.YNc(4,B,4,3,"ng-template",10),t.qZA(),t.BQk()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("options",n.staffs)("virtualScroll",!0)("virtualScrollItemSize",10)("filter",!0)("resetFilterOnHide",!0)("emptyMessage",t.lcZ(2,8,n.loading$)?"\u0e81\u0eb3\u0ea5\u0eb1\u0e87\u0ec2\u0eab\u0ebc\u0e94..":"\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99")("placeholder",n.placeholder)("formControlName",n.formControlName)}}let M=(()=>{class s{constructor(n,D,O,P,L){this.parentForm=n,this.cdr=D,this.loadingService=O,this.userService=P,this.staffService=L,this.submitted=!1,this.showLabel=!0,this.showAddon=!0,this.editMode=!1,this.filterByHead=!0,this.allowEmpty=!1,this.showClear=!1,this.label="\u0e9e\u0eb0\u0e99\u0eb1\u0e81\u0e87\u0eb2\u0e99",this.sublabel="",this.placeholder="\u0ec0\u0ea5\u0eb7\u0ead\u0e81",this.formControlName="staffCode",this.onChange=()=>{},this.onTouched=()=>{},this.staffs=[],this.loading$=this.loadingService.state$,this.destroy$=new m.x}get control(){return this.formGroup.get(this.formControlName)}writeValue(n){this.selectedValue=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){}onDropdownChange(n){const D=n.value;this.selectedValue=D,this.onChange(D),this.onTouched()}ngOnInit(){this.user=this.userService.getLoggedUser(),this.formGroup=this.parentForm.control,this.staffService.staffs$.pipe((0,i.R)(this.destroy$)).subscribe(n=>{this.staffs=n,this.cdr.detectChanges()}),this.editMode&&this.getStaffs()}getStaffs(){if(this.filterByHead){const n=this.user?.profile?.staffCode;if(n){const D=Object.assign({headCode:n});this.staffService.getAll("field-sm",D).subscribe()}}else this.staffService.getAllHead().subscribe()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(o.sg),t.Y36(t.sBO),t.Y36(f.b),t.Y36(d.K),t.Y36(c.x))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-dropdown-staff"]],inputs:{submitted:"submitted",showLabel:"showLabel",showAddon:"showAddon",editMode:"editMode",filterByHead:"filterByHead",allowEmpty:"allowEmpty",showClear:"showClear",label:"label",sublabel:"sublabel",placeholder:"placeholder",formControlName:"formControlName"},features:[t._Bn([{provide:o.JU,useExisting:(0,t.Gpc)(()=>s),multi:!0}])],decls:4,vars:4,consts:[[3,"formGroup"],[4,"ngIf"],["for","assignedTo",1,"font-semibold","white-space-nowrap","mr-1"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["id","staffCode","appendTo","body","optionValue","staffCode","optionLabel","firstName","filterBy","staffCode,firstName,lastName","emptyFilterMessage","\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99","styleClass","w-full",1,"custom-dropdown",3,"options","virtualScroll","virtualScrollItemSize","filter","showClear","emptyMessage","placeholder","formControlName","onChange","onFocus"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"flex","align-items-center"],[1,"pi","pi-user","text-indigo-500",2,"font-size","1rem"],[1,"ml-2"],["id","staffCode","appendTo","body","optionValue","staffCode","optionLabel","firstName","filterBy","staffCode,firstName,lastName","emptyFilterMessage","\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99","styleClass","w-full",3,"options","virtualScroll","virtualScrollItemSize","filter","resetFilterOnHide","emptyMessage","placeholder","formControlName","onChange","onFocus"]],template:function(n,D){1&n&&(t.TgZ(0,"form",0),t.YNc(1,l,6,3,"ng-container",1),t.YNc(2,y,8,10,"ng-container",1),t.YNc(3,a,5,10,"ng-container",1),t.qZA()),2&n&&(t.Q6J("formGroup",D.formGroup),t.xp6(1),t.Q6J("ngIf",D.showLabel),t.xp6(1),t.Q6J("ngIf",D.showAddon),t.xp6(1),t.Q6J("ngIf",!D.showAddon))},dependencies:[r.O5,o._Y,o.JJ,o.JL,o.sg,o.u,_.bc,_.VP,_.YE,g.Lt,h.jx,r.Ov],styles:[".custom-dropdown .p-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}\n"],encapsulation:2,changeDetection:0}),s})()},6521:(T,v,e)=>{e.d(v,{m:()=>g});var t=e(8274),o=e(1094),m=e(6895),i=e(3608),f=e(7147);function d(h,u){if(1&h&&(t.ynx(0),t.TgZ(1,"p-chip",2)(2,"div",3),t._uU(3,"\u0ec0\u0ea7\u0ea5\u0eb2"),t.qZA()(),t.BQk()),2&h){const p=t.oxw();t.xp6(1),t.Q6J("pTooltip",p.utilService.dateTimeShortFormat(null==p.item?null:p.item.indicatorTime))}}function c(h,u){if(1&h&&(t.ynx(0),t.TgZ(1,"p-chip",2)(2,"div",3),t._uU(3,"\u0e9b\u0eb0\u0ea5\u0eb4\u0ea1\u0eb2\u0e99"),t.qZA()(),t.BQk()),2&h){const p=t.oxw();t.xp6(1),t.Q6J("pTooltip",null==p.item?null:p.item.indicatorQuantity)}}function r(h,u){if(1&h&&(t.ynx(0),t.TgZ(1,"p-chip",2)(2,"div",3),t._uU(3,"\u0e84\u0eb8\u0e99\u0e99\u0eb0\u0e9e\u0eb2\u0e9a"),t.qZA()(),t.BQk()),2&h){const p=t.oxw();t.xp6(1),t.Q6J("pTooltip",null==p.item||null==p.item.indicatorQuality?null:p.item.indicatorQuality.subject)}}function _(h,u){if(1&h&&(t.ynx(0),t.TgZ(1,"p-chip",2)(2,"div",3),t._uU(3,"\u0e84\u0ea7\u0eb2\u0ea1\u0ec0\u0e9e\u0eb4\u0ec8\u0e87\u0e9e\u0ecd\u0ec3\u0e88"),t.qZA()(),t.BQk()),2&h){const p=t.oxw();t.xp6(1),t.Q6J("pTooltip",null==p.item||null==p.item.indicatorSatisfied?null:p.item.indicatorSatisfied.subject)}}let g=(()=>{class h{constructor(p){this.utilService=p}}return h.\u0275fac=function(p){return new(p||h)(t.Y36(o.F))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-indicator-tooltip"]],inputs:{item:"item"},decls:5,vars:4,consts:[[1,"flex","gap-1","align-items-center","justify-content-center"],[4,"ngIf"],["tooltipPosition","bottom","tooltipStyleClass","custom-tooltip",3,"pTooltip"],[1,"text-xs","white-space-nowrap"]],template:function(p,l){1&p&&(t.TgZ(0,"div",0),t.YNc(1,d,4,1,"ng-container",1),t.YNc(2,c,4,1,"ng-container",1),t.YNc(3,r,4,1,"ng-container",1),t.YNc(4,_,4,1,"ng-container",1),t.qZA()),2&p&&(t.xp6(1),t.Q6J("ngIf",null==l.item?null:l.item.indicatorTime),t.xp6(1),t.Q6J("ngIf",null==l.item?null:l.item.indicatorQuantity),t.xp6(1),t.Q6J("ngIf",null==l.item||null==l.item.indicatorQuality?null:l.item.indicatorQuality.id),t.xp6(1),t.Q6J("ngIf",null==l.item||null==l.item.indicatorSatisfied?null:l.item.indicatorSatisfied.id))},dependencies:[m.O5,i.u,f.A],encapsulation:2}),h})()},1979:(T,v,e)=>{e.d(v,{p:()=>f});var t=e(6895),o=e(3608),m=e(7147),i=e(8274);let f=(()=>{class d{}return d.\u0275fac=function(r){return new(r||d)},d.\u0275mod=i.oAB({type:d}),d.\u0275inj=i.cJS({imports:[t.ez,o.z,m.o]}),d})()},7368:(T,v,e)=>{e.d(v,{b:()=>c});var t=e(6895),o=e(5593),m=e(4466),i=e(1740),f=e(3241),d=e(8274);let c=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[t.ez,o.hJ,m.m,f.$,i.j]}),r})()},8065:(T,v,e)=>{e.d(v,{I:()=>c});var t=e(8274),o=e(6895),m=e(3948);function i(r,_){if(1&r&&(t.ynx(0),t.TgZ(1,"div"),t._UZ(2,"i",4),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.BQk()),2&r){const g=_.ngIf;t.xp6(4),t.lnq("[",g.staffCode,"]-",g.firstName," ",g.lastName,"")}}function f(r,_){if(1&r&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t.YNc(3,i,5,3,"ng-container",0),t.qZA(),t.TgZ(4,"td")(5,"div",2),t._UZ(6,"app-task-status",3),t.qZA()()(),t.BQk()),2&r){const g=_.$implicit;t.xp6(3),t.Q6J("ngIf",g.staff),t.xp6(3),t.Q6J("taskStatus",g.status)}}function d(r,_){if(1&r&&(t.ynx(0),t.TgZ(1,"table")(2,"tbody"),t.YNc(3,f,7,2,"ng-container",1),t.qZA()(),t.BQk()),2&r){const g=t.oxw();t.xp6(3),t.Q6J("ngForOf",g.workflows)("ngForTrackBy",g.trackByFn)}}let c=(()=>{class r{constructor(){this.workflows=[]}ngOnInit(){}trackByFn(g,h){return h.id||g}}return r.\u0275fac=function(g){return new(g||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-task-workflow"]],inputs:{workflows:"workflows"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ml-2"],[3,"taskStatus"],[1,"pi","pi-user","mr-2"]],template:function(g,h){1&g&&t.YNc(0,d,4,2,"ng-container",0),2&g&&t.Q6J("ngIf",h.workflows&&h.workflows.length)},dependencies:[o.sg,o.O5,m.h],encapsulation:2}),r})()},4248:(T,v,e)=>{e.d(v,{W:()=>i});var t=e(6895),o=e(9981),m=e(8274);let i=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[t.ez,o.o]}),f})()},2311:(T,v,e)=>{e.d(v,{Z:()=>t});class t{static getWaiting(m){return{query:{fields:["main.id","main.docYear","main.taskWfId","main.taskId","main.taskSubject","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.selfCode","main.createdAt","main.isLock","staff.staffCode","staff.firstName","staff.firstName","staff.lastName","status.icon","status.name","status.color"],joins:["iq","is","staff","status"],filters:m,getType:"MANY"}}}static getDetail(m){return{query:{fields:["main.id","main.docYear","main.taskWfId","main.taskId","main.taskSubject","task.taskWeight","main.reportDetail","main.scheduledStart","main.scheduledEnd","main.selfTimeScore","main.selfQuantityScore","main.selfQualityScore","main.selfSatisfiedScore","main.selfCode","main.createdAt","main.headActionAt","main.comment","task.id","task.indicatorTime","task.indicatorQuantity","iq.id","iq.subject","is.id","is.subject","staff.staffCode","staff.firstName","staff.lastName","head.staffCode","head.firstName","head.lastName","status.icon","status.name","status.color","attached.fileName","attached.filePath"],joins:["task","iq","is","staff","head","status","attached"],filters:m,getType:"ONE"}}}}},3828:(T,v,e)=>{e.d(v,{n:()=>d});var t=e(1135),o=e(8505),m=e(2340),i=e(8274),f=e(529);let d=(()=>{class c{constructor(_){this.http=_,this.items=new t.X(null),this.items$=this.items.asObservable(),this.apiUrl=m.N.apiUrl}getAll(_){return this.http.get(`${this.apiUrl}/v1/departments/${_}`).pipe((0,o.b)(h=>{200===h?.statusCode&&h?.data&&this.items.next(h.data)}))}}return c.\u0275fac=function(_){return new(_||c)(i.LFG(f.eN))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5143:(T,v,e)=>{e.d(v,{E:()=>d});var t=e(1135),o=e(8505),m=e(2340),i=e(8274),f=e(529);let d=(()=>{class c{constructor(_){this.http=_,this.items=new t.X([]),this.items$=this.items.asObservable(),this.apiUrl=m.N.apiUrl}getAll(_){return this.http.get(`${this.apiUrl}/v1/divisions/filter`,{params:_}).pipe((0,o.b)(h=>{200===h?.statusCode&&h?.data&&this.items.next(h.data)}))}}return c.\u0275fac=function(_){return new(_||c)(i.LFG(f.eN))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9869:(T,v,e)=>{e.d(v,{v:()=>_});var t=e(4365),o=e(875),m=e(6522),i=e(8274),f=e(8386),d=e(3591),c=e(9166),r=e(830);let _=(()=>{class g{constructor(u,p,l,C){this.userService=u,this.taskDescService=p,this.selfEvalService=l,this.headEvalService=C}createFilter(u,p){const l=this.userService.getLoggedUser()?.profile?.staffCode;return{docYear:u,[p]:l}}getTaskMain(u){const p=this.createFilter(u,"createdBy"),l=t.c.getMany(p);return this.taskDescService.getMany(l)}getTaskReport(u){const p=this.createFilter(u,"selfCode"),l=o.K.getMany(p);return this.selfEvalService.getMany(l)}getTaskEval(u){const p=this.createFilter(u,"headActionBy"),l=m._.getMany(p);return this.headEvalService.getMany(l)}}return g.\u0275fac=function(u){return new(u||g)(i.LFG(f.K),i.LFG(d.w),i.LFG(c.A),i.LFG(r.P))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},5108:(T,v,e)=>{e.d(v,{i:()=>i,x:()=>f});var t=e(8274),o=e(6895);const m=["*"];let i=(()=>{class d{constructor(){this.layout="horizontal",this.type="solid"}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return d.\u0275fac=function(r){return new(r||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",layout:"layout",type:"type",align:"align"},ngContentSelectors:m,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(r,_){1&r&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()()),2&r&&(t.Tol(_.styleClass),t.Q6J("ngClass",_.containerClass())("ngStyle",_.style))},dependencies:[o.mk,o.PC],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0}),d})(),f=(()=>{class d{}return d.\u0275fac=function(r){return new(r||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[o.ez]}),d})()},1167:(T,v,e)=>{e.d(v,{CO:()=>g,KZ:()=>h});var t=e(6895),o=e(8274),m=e(433),i=e(1795);const f=function(u,p){return{"p-button-icon":!0,"p-button-icon-left":u,"p-button-icon-right":p}};function d(u,p){if(1&u&&o._UZ(0,"span",3),2&u){const l=o.oxw();o.Tol(l.checked?l.onIcon:l.offIcon),o.Q6J("ngClass",o.WLB(3,f,"left"===l.iconPos,"right"===l.iconPos))}}function c(u,p){if(1&u&&(o.TgZ(0,"span",4),o._uU(1),o.qZA()),2&u){const l=o.oxw();o.xp6(1),o.Oqu(l.checked?l.hasOnLabel?l.onLabel:"":l.hasOffLabel?l.offLabel:"")}}const r=function(u,p,l){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":u,"p-highlight":p,"p-disabled":l}},_={provide:m.JU,useExisting:(0,o.Gpc)(()=>g),multi:!0};let g=(()=>{class u{constructor(l){this.cd=l,this.iconPos="left",this.onChange=new o.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(l){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:l,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(l){this.checked=l,this.cd.markForCheck()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return u.\u0275fac=function(l){return new(l||u)(o.Y36(o.sBO))},u.\u0275cmp=o.Xpm({type:u,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[o._Bn([_])],decls:3,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(l,C){1&l&&(o.TgZ(0,"div",0),o.NdJ("click",function(y){return C.toggle(y)})("keydown.enter",function(y){return C.toggle(y)}),o.YNc(1,d,1,6,"span",1),o.YNc(2,c,2,1,"span",2),o.qZA()),2&l&&(o.Tol(C.styleClass),o.Q6J("ngClass",o.kEZ(8,r,C.onIcon&&C.offIcon&&!C.hasOnLabel&&!C.hasOffLabel,C.checked,C.disabled))("ngStyle",C.style),o.uIk("tabindex",C.disabled?null:"0")("aria-checked",C.checked),o.xp6(1),o.Q6J("ngIf",C.onIcon||C.offIcon),o.xp6(1),o.Q6J("ngIf",C.onLabel||C.offLabel))},dependencies:[t.mk,t.O5,t.PC,i.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),u})(),h=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=o.oAB({type:u}),u.\u0275inj=o.cJS({imports:[t.ez,i.T]}),u})()}}]);