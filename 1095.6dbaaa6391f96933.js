"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[1095],{1095:(b,f,o)=>{o.r(f),o.d(f,{VerificationModule:()=>Z});var d=o(5047),g=o(6895),c=o(5675),u=o(2156),e=o(8274),t=o(433),s=o(3976),E=o(263),S=o(704),y=o(5593),C=o(2453);const h=function(r){return{"ng-invalid ng-dirty":r}},B=[{path:"",component:(()=>{class r{constructor(i,n,m,l,a,v){this.fb=i,this.cryptoService=n,this.route=m,this.authService=l,this.alertService=a,this.router=v,this.submitted=!1;const A=this.route.snapshot.paramMap.get("m");if(A){this.decryptedEmail=this.cryptoService.decrypt(A);const J=this.decryptedEmail.replace(/(\w{2})[\w.-]+@([\w.]+\w)/,"$1***@$2");this.email=J}this.decryptedEmail||this.router.navigate(["/"])}get controls(){return this.formGroup.controls}focusOnNext(i){i.input.nativeElement.focus()}ngOnInit(){const i=u.CM;this.formGroup=this.fb.group({code1:[null,i.required()],code2:[null,i.required()],code3:[null,i.required()],code4:[null,i.required()]})}onSubmit(){if(this.submitted=!0,this.formGroup.invalid)return;let i=[];Object.entries(this.formGroup.value).forEach(([l,a])=>{i.push(a)});const n=i.join("");this.formGroup.disable(),this.authService.verification({email:this.decryptedEmail,otp:n}).subscribe({next:l=>{if(l&&this.decryptedEmail){const a=this.cryptoService.encrypt(this.decryptedEmail),v=this.cryptoService.encrypt(n);this.router.navigate(["/reset-password",{m:a,c:v}])}},error:l=>{this.formGroup.enable(),this.alertService.unauthorized(l)}})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(t.QS),e.Y36(s.K),e.Y36(c.gz),e.Y36(E.e),e.Y36(S.c),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-verification"]],decls:23,vars:21,consts:[[1,"flex","bg-blue-400","h-screen","justify-content-center","align-items-center"],[1,"w-full","h-full","sm:h-fit","sm:w-25rem","border-round-2xl","p-card","p-6"],[1,"h-full","w-full","flex","flex-column","justify-content-center","gap-4"],[1,"text-center","mb-3"],["src","assets/images/logo.png","alt","",1,"w-7rem","h-10rem"],[1,"text-900","font-bold"],[1,"flex","flex-column","gap-4"],["autocomplete","off",3,"formGroup"],[1,"flex","justify-content-between","w-full","align-items-center","mb-4","gap-3"],["inputStyleClass","w-3rem text-center","formControlName","code1",3,"ngClass","maxlength","onInput"],["inputStyleClass","w-3rem text-center","formControlName","code2",3,"ngClass","maxlength","onInput"],["input2",""],["inputStyleClass","w-3rem text-center","formControlName","code3",3,"ngClass","maxlength","onInput"],["input3",""],["inputStyleClass","w-3rem text-center","formControlName","code4",3,"ngClass","maxlength"],["input4",""],[1,"flex","flex-column","gap-3","mt-3"],["type","button","pButton","","label","\u0e81\u0ea7\u0e94\u0eaa\u0ead\u0e9a\u0ea5\u0eb0\u0eab\u0eb1\u0e94",3,"loading","disabled","click"],["routerLink","/","type","button","pButton","","label","\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81",1,"p-button-outlined",3,"disabled"],["styleClass","px-50"]],template:function(i,n){if(1&i){const m=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"h5"),e._uU(6,"\u0ea5\u0eb0\u0e9a\u0ebb\u0e9a\u0ec4\u0e94\u0ec9\u0eaa\u0ebb\u0ec8\u0e87\u0ea5\u0eb0\u0eab\u0eb1\u0e94\u0ea2\u0eb6\u0e99\u0ea2\u0eb1\u0e99\u0ec4\u0e9b\u0e97\u0eb5\u0ec8\u0ead\u0eb5\u0ec0\u0ea1\u0ea5"),e.qZA(),e.TgZ(7,"span",5),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"form",7)(11,"div",8)(12,"p-inputNumber",9),e.NdJ("onInput",function(){e.CHM(m);const a=e.MAs(14);return e.KtG(n.focusOnNext(a))}),e.qZA(),e.TgZ(13,"p-inputNumber",10,11),e.NdJ("onInput",function(){e.CHM(m);const a=e.MAs(16);return e.KtG(n.focusOnNext(a))}),e.qZA(),e.TgZ(15,"p-inputNumber",12,13),e.NdJ("onInput",function(){e.CHM(m);const a=e.MAs(18);return e.KtG(n.focusOnNext(a))}),e.qZA(),e._UZ(17,"p-inputNumber",14,15),e.qZA()(),e.TgZ(19,"div",16)(20,"button",17),e.NdJ("click",function(){return n.onSubmit()}),e.qZA(),e._UZ(21,"button",18),e.qZA()()()()(),e._UZ(22,"p-toast",19)}2&i&&(e.xp6(8),e.Oqu(n.email),e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("ngClass",e.VKq(13,h,n.submitted&&n.controls.code1.errors))("maxlength",1),e.xp6(1),e.Q6J("ngClass",e.VKq(15,h,n.submitted&&n.controls.code2.errors))("maxlength",1),e.xp6(2),e.Q6J("ngClass",e.VKq(17,h,n.submitted&&n.controls.code3.errors))("maxlength",1),e.xp6(2),e.Q6J("ngClass",e.VKq(19,h,n.submitted&&n.controls.code4.errors))("maxlength",1),e.xp6(3),e.Q6J("loading",n.formGroup.disabled)("disabled",n.formGroup.disabled),e.xp6(1),e.Q6J("disabled",n.formGroup.disabled))},dependencies:[g.mk,c.rH,t._Y,t.JJ,t.JL,t.nD,t.sg,t.u,u.bc,u.VP,u.YE,d.Rn,y.Hq,C.FN],encapsulation:2}),r})()}];let x=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(B),c.Bz]}),r})();var M=o(1740),V=o(3425),N=o(4466);let Z=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,x,N.m,M.j,d.L$,V.gz,y.hJ,C.EV]}),r})()},704:(b,f,o)=>{o.d(f,{c:()=>c});var d=o(8274),g=o(805);let c=(()=>{class u{constructor(t){this.messageService=t}showError(t){this.messageService.add({severity:"error",summary:"\u0ec0\u0e81\u0eb5\u0e94\u0e82\u0ecd\u0ec9\u0e9c\u0eb4\u0e94\u0e9e\u0eb2\u0e94",detail:t?.error?.message})}showDanger(t){this.messageService.add({severity:"error",summary:"\u0ec1\u0e88\u0ec9\u0e87\u0ec0\u0e95\u0eb7\u0ead\u0e99",detail:t})}showSuccess(t){this.messageService.add({severity:"success",summary:"\u0eaa\u0eb3\u0ec0\u0ea5\u0eb1\u0e94",detail:t})}showWarning(t){this.messageService.add({severity:"warn",summary:"\u0ec1\u0e88\u0ec9\u0e87\u0ec0\u0e95\u0eb7\u0ead\u0e99",detail:t})}showInfo(t){this.messageService.add({severity:"info",summary:"\u0ec1\u0e88\u0ec9\u0e87\u0ec0\u0e95\u0eb7\u0ead\u0e99",detail:t})}unauthorized(t){this.messageService.add({severity:"error",summary:"\u0e9a\u0ecd\u0ec8\u0ec4\u0e94\u0ec9\u0eae\u0eb1\u0e9a\u0ead\u0eb0\u0e99\u0eb8\u0e8d\u0eb2\u0e94",detail:t})}}return u.\u0275fac=function(t){return new(t||u)(d.LFG(g.ez))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);