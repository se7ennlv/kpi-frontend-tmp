"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[505],{505:(Gt,G,s)=>{s.r(G),s.d(G,{KpiDivApprModule:()=>Qt});var p=s(6895),J=s(5675),N=s(7579),O=s(2722),D=s(9491),R=s(4131),g=s(655),r=s(2156);class A{}(0,g.gn)([(0,r.C1)()],A.prototype,"batchCode",void 0),(0,g.gn)([(0,r.C1)()],A.prototype,"departmentId",void 0),(0,g.gn)([(0,r.C1)()],A.prototype,"divisionId",void 0),(0,g.gn)([(0,r.C1)()],A.prototype,"comment",void 0);var t=s(8274),P=s(704),d=s(4325),_=s(1135),Y=s(4004),f=s(8505),v=s(2340);class T{static getOneAfterDivApproved(n){return{query:{fields:["main.id","main.divGrade","main.divComment"],joins:[],filters:n,getType:"ONE"}}}static getMany(n){return{query:{fields:["main.id","main.batchCode","main.staffCode","main.firstName","main.lastName","main.positionName","main.divisionName","main.taskPlanScore","main.taskAssignScore","main.taskDescScore","main.taskCalcScore","main.attendScore","main.finalScore","main.sysGrade","main.divApproved","main.divGrade"],joins:[],filters:n,getType:"MANY"}}}static getDetail(n){return{query:{fields:["main.id","main.staffCode","main.firstName","main.lastName","main.positionName","main.divisionName","main.taskPlanScore","main.taskAssignScore","main.taskDescScore","main.taskCalcScore","main.attendScore","main.finalScore","main.sysGrade","main.divGrade","main.divComment","main.divActionAt","main.deptGrade"],joins:[],filters:n,getType:"ONE"}}}}var $=s(529);let Z=(()=>{class i{constructor(e){this.http=e,this.apiUrl=`${v.N.apiUrl}/v1/report-staff-score`,this.divApproved=new _.X(!1),this.divApproved$=this.divApproved.asObservable(),this.item=new _.X({}),this.item$=this.item.asObservable(),this.items=new _.X([]),this.items$=this.items.asObservable()}countEvalStaff(e){return this.http.get(`${v.N.apiUrl}/v1/sum-staff-score/count`,{params:e}).pipe((0,Y.U)(o=>200===o?.statusCode&&o?.data?.rowCount?o?.data?.rowCount:0))}getOne(e){return this.http.post(`${this.apiUrl}/find`,e).pipe((0,f.b)(o=>{200===o?.statusCode&&o?.data&&this.item.next(o.data)}))}getOneAndReplace(e){return this.http.post(`${this.apiUrl}/find`,e).pipe((0,f.b)(o=>{if(200===o?.statusCode&&o?.data){const a=o.data,E=this.items.getValue();if(-1!==E.findIndex(h=>h.id===a.id)){const h=E.map(m=>m.id===a.id?{...m,...a}:m);this.items.next([...h])}}}))}getMany(e){return this.http.post(`${this.apiUrl}/find`,e).pipe((0,f.b)(o=>{200===o?.statusCode&&o?.data&&this.items.next(o.data)}))}update(e,u,o){return this.http.patch(`${v.N.apiUrl}/v1/sum-staff-score/${o}/${e}`,u).pipe((0,f.b)(E=>{if(200===E?.statusCode&&E?.data){const c=E.data,m=this.items.value.map(b=>b?.id===c.id?c:b);this.items.next(m)}}))}approve(e,u){return this.http.patch(`${v.N.apiUrl}/v1/sum-staff-score/${u}`,e).pipe((0,f.b)(a=>{}))}getDetail(e){if(e){const o=T.getDetail({id:e});this.getOne(o).subscribe()}}checkConfirmStatus(e){return this.http.get(`${v.N.apiUrl}/v1/kpi-div-appr/count`,{params:e}).pipe((0,Y.U)(o=>{const a=200===o?.statusCode&&o?.data?.rowCount>0;return this.divApproved.next(a),a}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG($.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=s(433),C=s(5593),U=s(3054);function z(i,n){if(1&i&&(t.TgZ(0,"small",12),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" *",null==e.controls.comment.errors.required?null:e.controls.comment.errors.required.message," ")}}let H=(()=>{class i{constructor(e,u,o,a,E){this.fb=e,this.alertService=u,this.dialogRef=o,this.dialogConfig=a,this.apprService=E,this.submitted=!1,this.formGroup=this.fb.formGroup(new A)}ngOnInit(){this.dialogData=this.dialogConfig.data.data,this.dialogData&&this.formGroup.patchValue({...this.dialogData})}get controls(){return this.formGroup.controls}onSubmit(){if(this.submitted=!0,this.formGroup.invalid)return;const e=this.formGroup.value;this.formGroup.disable(),this.apprService.approve(e,"div-approve").subscribe({next:u=>{u&&(this.closeDialog(),this.alertService.showSuccess("\u0e9a\u0eb1\u0e99\u0e97\u0eb6\u0e81\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99\u0ec1\u0ea5\u0ec9\u0ea7"),setTimeout(()=>{window.location.reload()},2e3))},error:u=>{this.alertService.showError(u)}})}closeDialog(){this.formGroup.reset(),this.formGroup.enable(),this.dialogRef?.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.GW),t.Y36(P.c),t.Y36(d.E7),t.Y36(d.S),t.Y36(Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-approve-dialog"]],decls:17,vars:6,consts:[[1,"grid","p-fluid"],[1,"col-12"],[1,"p-2","h-20rem"],["autocomplete","off",3,"formGroup"],[1,"field"],["for","comment",1,"font-semibold","text-lg","mb-0"],["class","p-error",4,"ngIf"],["id","comment","rows","3","cols","30","pInputTextarea","","formControlName","comment","placeholder","\u0e81\u0eb0\u0ea5\u0eb8\u0e99\u0eb2\u0e9b\u0ec9\u0ead\u0e99\u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99\u0ec3\u0e99\u0e81\u0eb2\u0e99\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0ec2\u0e94\u0e8d\u0ea5\u0ea7\u0ea1\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99",3,"autoResize"],[1,"text-red-500","mt-2"],[1,"p-dialog-footer","w-full","fixed","left-0","bottom-0","py-4"],["pButton","","pRipple","","label","\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81","icon","pi pi-times",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-check","label","\u0ea2\u0eb7\u0e99\u0ea2\u0eb1\u0e99","icon","pi pi-check",3,"loading","disabled","click"],[1,"p-error"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),t._uU(6," \u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99 "),t.YNc(7,z,2,1,"small",6),t.qZA(),t.TgZ(8,"textarea",7),t._uU(9,"                    "),t.qZA(),t.TgZ(10,"div",8)(11,"span"),t._uU(12,"*"),t.qZA(),t._uU(13," \u0e81\u0eb0\u0ea5\u0eb8\u0e99\u0eb2\u0e81\u0ea7\u0e94\u0eaa\u0ead\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99\u0e82\u0ead\u0e87\u0eaa\u0eb0\u0ea1\u0eb2\u0e8a\u0eb4\u0e81\u0ec3\u0eab\u0ec9\u0e96\u0eb7\u0e81\u0e95\u0ec9\u0ead\u0e87 \u0ec1\u0ea5\u0eb0 \u0e97\u0ec8\u0eb2\u0e99\u0ec4\u0e94\u0ec9\u0e9b\u0eb1\u0e9a\u0ec0\u0e81\u0ea3\u0e94\u0e95\u0eb2\u0ea1\u0e84\u0ea7\u0eb2\u0ea1\u0ec0\u0edd\u0eb2\u0eb0\u0eaa\u0ebb\u0ea1\u0ec1\u0ea5\u0ec9\u0ea7\u0e9a\u0ecd\u0ec8?, \u0e97\u0ec8\u0eb2\u0e99\u0e88\u0eb0\u0e9a\u0ecd\u0ec8\u0eaa\u0eb2\u0ea1\u0eb2\u0e94\u0ec1\u0e81\u0ec9\u0ec4\u0e82\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99\u0ec4\u0e94\u0ec9\u0eab\u0ebc\u0eb1\u0e87\u0e88\u0eb2\u0e81\u0e81\u0ebb\u0e94\u0e9b\u0eb8\u0ec8\u0ea1\u0ea2\u0eb7\u0e99\u0ea2\u0eb1\u0e99. "),t.qZA()()()(),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return u.closeDialog()}),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return u.onSubmit()}),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",u.formGroup),t.xp6(4),t.Q6J("ngIf",u.submitted&&u.controls.comment.errors),t.xp6(1),t.Q6J("autoResize",!0),t.xp6(7),t.Q6J("disabled",u.formGroup.disabled),t.xp6(1),t.Q6J("loading",u.formGroup.disabled)("disabled",u.formGroup.disabled))},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,r.bc,r.VP,r.YE,C.Hq,U.g],encapsulation:2}),i})();var L=s(8145),X=s(1094),V=s(6832),y=s(8039),S=s(8386),w=s(585),q=s(805),j=s(793),F=s(1740),K=s(6679),x=s(7147),M=s(209),Q=s(2946);function W(i,n){1&i&&(t.TgZ(0,"span",16),t._uU(1,"\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99\u0e9e\u0eb0\u0e99\u0eb1\u0e81\u0e87\u0eb2\u0e99"),t.qZA())}function tt(i,n){1&i&&(t.TgZ(0,"span",16),t._uU(1,"\u0e81\u0eb2\u0e99\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94 (\u0e82\u0eb1\u0ec9\u0e99\u0e9e\u0eb0\u0ec1\u0e99\u0e81)"),t.qZA())}function et(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"p-fieldset",3),t.YNc(2,W,2,0,"ng-template",4),t.TgZ(3,"div",5)(4,"div",6)(5,"label",7),t._uU(6,"\u0ea5\u0eb0\u0eab\u0eb1\u0e94 \u0e9f\u0e9f\u0ea5: "),t.qZA(),t.TgZ(7,"span",8),t._uU(8),t.qZA()(),t.TgZ(9,"div",6)(10,"label",7),t._uU(11,"\u0e8a\u0eb7\u0ec8 \u0ec1\u0ea5\u0eb0 \u0e99\u0eb2\u0ea1\u0eaa\u0eb0\u0e81\u0eb8\u0e99:"),t.qZA(),t.TgZ(12,"span",8),t._uU(13),t.qZA()(),t.TgZ(14,"div",6)(15,"label",7),t._uU(16,"\u0e95\u0eb3\u0ec1\u0edc\u0ec8\u0e87:"),t.qZA(),t.TgZ(17,"span",8),t._uU(18),t.qZA()(),t.TgZ(19,"div",9)(20,"label",7),t._uU(21,"\u0e9e\u0eb0\u0ec1\u0e99\u0e81:"),t.qZA(),t.TgZ(22,"span",8),t._uU(23),t.qZA()(),t.TgZ(24,"div",6)(25,"label",10),t._uU(26,"\u0ec0\u0e81\u0ea3\u0e94\u0e84\u0eb3\u0e99\u0ea7\u0e99:"),t.qZA(),t._UZ(27,"p-chip",11),t.qZA()()(),t.TgZ(28,"p-fieldset",12),t.YNc(29,tt,2,0,"ng-template",4),t.TgZ(30,"div",5)(31,"div",1)(32,"label",13),t._uU(33,"\u0ec0\u0e81\u0ea3\u0e94\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94:"),t.qZA(),t._UZ(34,"p-chip",11),t.qZA(),t.TgZ(35,"div",14)(36,"label",13),t._uU(37,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0e9b\u0eb1\u0e9a\u0ec0\u0e81\u0ea3\u0e94:"),t.qZA(),t._uU(38),t.ALo(39,"date"),t.qZA(),t.TgZ(40,"div",14)(41,"label",15),t._uU(42,"\u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99 "),t.qZA(),t.TgZ(43,"div"),t._uU(44),t.qZA()()()(),t.BQk()),2&i){const e=n.ngIf,u=t.oxw();t.xp6(1),t.Q6J("toggleable",!0),t.xp6(7),t.Oqu(e.staffCode),t.xp6(5),t.AsE("",e.firstName," ",e.lastName,""),t.xp6(5),t.Oqu(e.positionName),t.xp6(5),t.Oqu(e.divisionName),t.xp6(4),t.s9C("label",e.sysGrade),t.Q6J("styleClass",u.gradeService.getGradeClass(e.sysGrade)+" text-white font-bold px-3"),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(6),t.s9C("label",e.divGrade),t.Q6J("styleClass",u.gradeService.getGradeClass(e.divGrade)+" text-white font-bold px-3"),t.xp6(4),t.hij(" ",t.xi3(39,13,null==e?null:e.divActionAt,"dd/MM/yyyy HH:mm")," "),t.xp6(6),t.Oqu(null==e?null:e.divComment)}}let it=(()=>{class i{constructor(e,u,o,a){this.gradeService=e,this.apprService=u,this.dialogConfig=o,this.userService=a,this.destroy$=new N.x}ngOnInit(){this.docId=this.dialogConfig.data.data,this.user=this.userService.getLoggedUser(),this.userRoleId=this.user?.role?.id,this.docId&&(this.apprService.getDetail(this.docId),this.item$=this.apprService.item$)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.U),t.Y36(Z),t.Y36(d.S),t.Y36(S.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail-dialog"]],decls:4,vars:3,consts:[[1,"grid"],[1,"col-12"],[4,"ngIf"],[3,"toggleable"],["pTemplate","header"],[1,"formgrid","grid","p-fluid"],[1,"col-12","text-xl"],[1,"font-semibold","mb-0"],[1,"ml-2"],[1,"field","col-12","text-xl"],[1,"font-semibold","mb-0","mr-2"],[3,"label","styleClass"],["styleClass","mt-4",3,"toggleable"],[1,"font-semibold","mb-0","mr-2","text-xl"],[1,"field","col-12"],["for","comment",1,"font-semibold","text-xl","mb-0"],[1,"font-semibold","text-xl"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,et,45,16,"ng-container",2),t.ALo(3,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,u.item$)))},dependencies:[p.O5,q.jx,Q.p,x.A,p.Ov,p.uU],encapsulation:2}),i})();class B{}(0,g.gn)([(0,r.C1)()],B.prototype,"batchCode",void 0),(0,g.gn)([(0,r.C1)()],B.prototype,"staffCode",void 0),(0,g.gn)([(0,r.C1)()],B.prototype,"divGrade",void 0),(0,g.gn)([(0,r.C1)()],B.prototype,"divComment",void 0);var ut=s(841),ot=s(2048);function nt(i,n){1&i&&(t.TgZ(0,"span",20),t._uU(1,"\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99\u0e9e\u0eb0\u0e99\u0eb1\u0e81\u0e87\u0eb2\u0e99"),t.qZA())}function st(i,n){1&i&&(t.TgZ(0,"span",20),t._uU(1,"\u0e81\u0eb2\u0e99\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94"),t.qZA())}function at(i,n){if(1&i&&(t.TgZ(0,"small",21),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" *",null==e.controls.divComment.errors.required?null:e.controls.divComment.errors.required.message," ")}}let rt=(()=>{class i{constructor(e,u,o,a,E,c,h,m){this.gradeService=e,this.fb=u,this.alertService=o,this.formService=a,this.dialogRef=E,this.dialogConfig=c,this.userService=h,this.apprService=m,this.submitted=!1,this.formGroup=this.fb.formGroup(new B),r.jc.set(this.formService.validationMessages)}get controls(){return this.formGroup.controls}ngOnInit(){this.item=this.dialogConfig.data.data,this.user=this.userService.getLoggedUser(),this.userRoleId=this.user?.role?.id,this.initData()}initData(){this.formGroup.patchValue({batchCode:this.item?.batchCode,staffCode:this.item?.staffCode})}onSubmit(){if(this.submitted=!0,this.formGroup.invalid)return;const e=this.item?.id,u={batchCode:this.item?.batchCode,staffCode:this.item?.staffCode,...this.formGroup.value};this.apprService.update(e,u,"div").subscribe({next:o=>{o&&(this.closeDialog(),this.getOneItem(e),this.alertService.showSuccess("\u0e9b\u0eb1\u0e9a\u0ec0\u0e81\u0ea3\u0e94\u0eae\u0ebd\u0e9a\u0eae\u0ec9\u0ead\u0e8d\u0ec1\u0ea5\u0ec9\u0ea7"))},error:o=>{this.closeDialog(),this.alertService.showError(o)}})}getOneItem(e){const o=T.getOneAfterDivApproved({id:e});this.apprService.getOneAndReplace(o).subscribe()}closeDialog(){this.submitted=!1,this.formGroup.reset(),this.formGroup.enable(),this.dialogRef?.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.U),t.Y36(r.GW),t.Y36(P.c),t.Y36(ut.k),t.Y36(d.E7),t.Y36(d.S),t.Y36(S.K),t.Y36(Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-adjust-dialog"]],decls:43,vars:19,consts:[[1,"p-2"],["autocomplete","off",3,"formGroup"],[3,"toggleable"],["pTemplate","header"],[1,"formgrid","grid","p-fluid"],[1,"col-12","text-xl"],[1,"font-semibold","mb-0"],[1,"ml-2"],[1,"field","col-12","text-xl"],[1,"font-semibold","mb-0","mr-2"],[3,"label","styleClass"],["styleClass","mt-4",3,"toggleable"],[1,"field","col-12"],[3,"formControlName","submitted","label"],["for","comment",1,"font-semibold","text-lg","mb-0"],["class","p-error",4,"ngIf"],["id","comment","rows","3","cols","30","pInputTextarea","",3,"autoResize","formControlName"],[1,"text-right","sticky","bottom-0","mt-5"],["pButton","","pRipple","","label","\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81","icon","pi pi-times",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-share-alt","label","\u0e9a\u0eb1\u0e99\u0e97\u0eb6\u0e81","icon","pi pi-check",1,"ml-2",3,"loading","disabled","click"],[1,"font-semibold","text-xl"],[1,"p-error"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"p-fieldset",2),t.YNc(3,nt,2,0,"ng-template",3),t.TgZ(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"\u0ea5\u0eb0\u0eab\u0eb1\u0e94 \u0e9f\u0e9f\u0ea5: "),t.qZA(),t.TgZ(8,"span",7),t._uU(9),t.qZA()(),t.TgZ(10,"div",5)(11,"label",6),t._uU(12,"\u0e8a\u0eb7\u0ec8 \u0ec1\u0ea5\u0eb0 \u0e99\u0eb2\u0ea1\u0eaa\u0eb0\u0e81\u0eb8\u0e99:"),t.qZA(),t.TgZ(13,"span",7),t._uU(14),t.qZA()(),t.TgZ(15,"div",5)(16,"label",6),t._uU(17,"\u0e95\u0eb3\u0ec1\u0edc\u0ec8\u0e87:"),t.qZA(),t.TgZ(18,"span",7),t._uU(19),t.qZA()(),t.TgZ(20,"div",8)(21,"label",6),t._uU(22,"\u0e9e\u0eb0\u0ec1\u0e99\u0e81:"),t.qZA(),t.TgZ(23,"span",7),t._uU(24),t.qZA()(),t.TgZ(25,"div",5)(26,"label",9),t._uU(27,"\u0ec0\u0e81\u0ea3\u0e94\u0e84\u0eb3\u0e99\u0ea7\u0e99:"),t.qZA(),t._UZ(28,"p-chip",10),t.qZA()()(),t.TgZ(29,"p-fieldset",11),t.YNc(30,st,2,0,"ng-template",3),t.TgZ(31,"div",4)(32,"div",12),t._UZ(33,"app-dropdown-grade",13),t.qZA(),t.TgZ(34,"div",12)(35,"label",14),t._uU(36,"\u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99 "),t.YNc(37,at,2,1,"small",15),t.qZA(),t.TgZ(38,"textarea",16),t._uU(39,"                        "),t.qZA()()()()()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){return u.closeDialog()}),t.qZA(),t.TgZ(42,"button",19),t.NdJ("click",function(){return u.onSubmit()}),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formGroup",u.formGroup),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(7),t.Oqu(u.item.staffCode),t.xp6(5),t.AsE("",u.item.firstName," ",u.item.lastName,""),t.xp6(5),t.Oqu(u.item.positionName),t.xp6(5),t.Oqu(u.item.divisionName),t.xp6(4),t.s9C("label",u.item.sysGrade),t.Q6J("styleClass",u.gradeService.getGradeClass(u.item.sysGrade)+" text-white font-bold px-3"),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(4),t.Q6J("formControlName","divGrade")("submitted",u.submitted)("label","\u0ec0\u0e81\u0ea3\u0e94\u0e97\u0eb5\u0ec8\u0ec0\u0eab\u0eb1\u0e99\u0ea7\u0ec8\u0eb2\u0ec0\u0edd\u0eb2\u0eb0\u0eaa\u0ebb\u0ea1"),t.xp6(4),t.Q6J("ngIf",u.submitted&&u.controls.divComment.errors),t.xp6(1),t.Q6J("autoResize",!0)("formControlName","divComment"),t.xp6(3),t.Q6J("disabled",u.formGroup.disabled),t.xp6(1),t.Q6J("loading",u.formGroup.disabled)("disabled",u.formGroup.disabled))},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,r.bc,r.VP,r.YE,C.Hq,q.jx,Q.p,x.A,U.g,ot.G],encapsulation:2}),i})();var k=s(605);function lt(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"p-splitButton",3),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.adjustGrade())})("onDropdownClick",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.setMenus())}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("model",e.menuItems)}}function Et(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.showDetail())}),t.qZA()}}function pt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,lt,2,1,"ng-container",0),t.YNc(2,Et,1,0,"p-button",2),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.item.divApproved),t.xp6(1),t.Q6J("ngIf",e.item.divApproved)}}function dt(i,n){1&i&&(t.TgZ(0,"span",5),t._UZ(1,"i",6),t._uU(2," \u0e9a\u0ecd\u0ec8\u0ea1\u0eb5\u0e81\u0eb2\u0e99\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99"),t.qZA())}let ct=(()=>{class i{constructor(e,u){this.dialogRef=e,this.dialogService=u,this.isApproved=!1,this.menuItems=[]}ngOnInit(){}setMenus(){this.menuItems=[{label:"\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94",icon:"pi pi-fw pi-list",command:()=>this.showDetail()}]}adjustGrade(){this.dialogRef=this.dialogService.open(rt,{header:`\u0eaa\u0eb0\u0ec0\u0edc\u0eb5\u0e9e\u0eb4\u0e88\u0eb2\u0ea5\u0eb0\u0e99\u0eb2\u0e84\u0eb7\u0e99 #${this.item?.id}`,width:window.innerWidth>M.A.lg?"65%":"80%",data:{data:this.item},contentStyle:{overflow:"auto","padding-bottom":"20px"},baseZIndex:1e4,dismissableMask:!1,maximizable:!0})}showDetail(){this.item&&(this.dialogRef=this.dialogService.open(it,{header:`\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94 #${this.item?.id}`,width:window.innerWidth>M.A.lg?"65%":"80%",data:{data:this.item?.id},contentStyle:{overflow:"auto","padding-bottom":"20px"},baseZIndex:1e4,dismissableMask:!1,maximizable:!0}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.E7),t.Y36(d.xA))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-btn-action"]],inputs:{item:"item",isApproved:"isApproved"},decls:2,vars:2,consts:[[4,"ngIf"],["class","text-red-500 font-semibold",4,"ngIf"],["label","\u0ec0\u0e9a\u0eb4\u0ec8\u0e87\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94","styleClass","p-button-secondary p-button-sm",3,"click",4,"ngIf"],["appendTo","body","icon","pi pi-sliders-v","label","\u0e9e\u0eb4\u0e88\u0eb2\u0ea5\u0eb0\u0e99\u0eb2","styleClass","p-button-secondary p-button-sm",3,"model","onClick","onDropdownClick"],["label","\u0ec0\u0e9a\u0eb4\u0ec8\u0e87\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94","styleClass","p-button-secondary p-button-sm",3,"click"],[1,"text-red-500","font-semibold"],[1,"pi","pi-times"]],template:function(e,u){1&e&&(t.YNc(0,pt,3,2,"ng-container",0),t.YNc(1,dt,3,0,"span",1)),2&e&&(t.Q6J("ngIf",u.item.taskCalcScore>0),t.xp6(1),t.Q6J("ngIf",u.item.taskCalcScore<=0))},dependencies:[p.O5,C.zx,k.a],encapsulation:2}),i})();function mt(i,n){1&i&&(t.TgZ(0,"tr")(1,"th",18),t._uU(2,"#"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"\u0ea5\u0eb0\u0eab\u0eb1\u0e94 \u0e9e/\u0e87"),t.qZA(),t.TgZ(5,"th",20),t._uU(6,"\u0e8a\u0eb7\u0ec8"),t.qZA(),t.TgZ(7,"th",20),t._uU(8,"\u0e99\u0eb2\u0ea1\u0eaa\u0eb0\u0e81\u0eb8\u0e99"),t.qZA(),t.TgZ(9,"th",20),t._uU(10,"\u0e95\u0eb3\u0ec1\u0edc\u0ec8\u0e87"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"\u0ea7\u0ebd\u0e81\u0ec1\u0e9c\u0e99\u0eaa\u0eb9\u0ec9\u0e8a\u0ebb\u0e99"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"\u0ea7\u0ebd\u0e81\u0ea1\u0ead\u0e9a\u0edd\u0eb2\u0e8d"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"\u0ea7\u0ebd\u0e81\u0e9e\u0eb2\u0ea5\u0eb0\u0e9a\u0ebb\u0e94\u0e9a\u0eb2\u0e94"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"\u0e84\u0eb0\u0ec1\u0e99\u0e99\u0e9c\u0ebb\u0e99\u0e87\u0eb2\u0e99"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"\u0e84\u0eb0\u0ec1\u0e99\u0e99\u0e9e\u0eb6\u0e94\u0e95\u0eb4\u0e81\u0eb3"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"\u0ea5\u0ea7\u0ea1\u0e84\u0eb0\u0ec1\u0e99\u0e99\u0e97\u0eb1\u0e87\u0edd\u0ebb\u0e94"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"\u0ec0\u0e81\u0ea3\u0e94 (\u0ea5\u0eb0\u0e9a\u0ebb\u0e9a)"),t.qZA(),t.TgZ(25,"th",19),t._uU(26,"\u0ec0\u0e81\u0ea3\u0e94 (\u0e9e\u0eb0\u0ec1\u0e99\u0e81)"),t.qZA(),t.TgZ(27,"th",19),t._uU(28,"\u0e88\u0eb1\u0e94\u0e81\u0eb2\u0e99"),t.qZA()())}const gt=function(){return{width:"50px"}};function ht(i,n){if(1&i&&(t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",19),t._uU(4),t.qZA(),t.TgZ(5,"td",20),t._uU(6),t.qZA(),t.TgZ(7,"td",20),t._uU(8),t.qZA(),t.TgZ(9,"td",20),t._uU(10),t.qZA(),t.TgZ(11,"td",19),t._uU(12),t.qZA(),t.TgZ(13,"td",19),t._uU(14),t.qZA(),t.TgZ(15,"td",19),t._uU(16),t.qZA(),t.TgZ(17,"td",22),t._uU(18),t.qZA(),t.TgZ(19,"td",19),t._uU(20),t.qZA(),t.TgZ(21,"td",22),t._uU(22),t.qZA(),t.TgZ(23,"td",19),t._UZ(24,"p-chip",23),t.qZA(),t.TgZ(25,"td",19),t._UZ(26,"p-chip",23),t.qZA(),t.TgZ(27,"td",19),t._UZ(28,"app-btn-action",24),t.qZA()()),2&i){const e=n.$implicit,u=n.rowIndex,o=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.DdM(17,gt)),t.xp6(1),t.hij(" ",u+1," "),t.xp6(2),t.hij(" ",null==e?null:e.staffCode," "),t.xp6(2),t.hij(" ",null==e?null:e.firstName," "),t.xp6(2),t.hij(" ",null==e?null:e.lastName," "),t.xp6(2),t.hij(" ",null==e?null:e.positionName," "),t.xp6(2),t.hij(" ",null==e?null:e.taskPlanScore," "),t.xp6(2),t.hij(" ",null==e?null:e.taskAssignScore," "),t.xp6(2),t.hij(" ",null==e?null:e.taskDescScore," "),t.xp6(2),t.hij(" ",null==e?null:e.taskCalcScore," "),t.xp6(2),t.hij(" ",null==e?null:e.attendScore," "),t.xp6(2),t.hij(" ",null==e?null:e.finalScore," "),t.xp6(2),t.Q6J("label",null==e?null:e.sysGrade)("styleClass",o.gradeService.getGradeClass(e.sysGrade)+" text-white font-bold px-3"),t.xp6(2),t.Q6J("label",null==e?null:e.divGrade)("styleClass",o.gradeService.getGradeClass(e.divGrade)+" text-white font-bold px-3"),t.xp6(2),t.Q6J("item",e)}}function At(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"\u0ec0\u0e81\u0eb5\u0e99\u0ec0\u0e9b\u0ebb\u0ec9\u0eb2"),t.qZA())}function ft(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"\u0ec0\u0e81\u0eb5\u0e99\u0ec0\u0e9b\u0ebb\u0ec9\u0eb2"),t.qZA())}function vt(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"\u0ec0\u0e81\u0eb5\u0e99\u0ec0\u0e9b\u0ebb\u0ec9\u0eb2"),t.qZA())}function Ct(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",41),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onApprove())}),t.qZA()}}function Bt(i,n){1&i&&(t.TgZ(0,"p-tag",42)(1,"div",43),t._UZ(2,"i",44),t.TgZ(3,"span",45),t._uU(4,"\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0ec1\u0ea5\u0ec9\u0ea7"),t.qZA()()()),2&i&&t.Q6J("rounded",!0)}const I=function(i){return{"text-red-500":i}};function Zt(i,n){if(1&i&&(t.TgZ(0,"div",26)(1,"table",27)(2,"tr")(3,"td"),t._uU(4,"\u0e81\u0eb3\u0e99\u0ebb\u0e94\u0ec0\u0e81\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99"),t.qZA(),t.TgZ(5,"td",18),t._UZ(6,"p-chip",28),t.qZA(),t.TgZ(7,"td",18),t._UZ(8,"p-chip",29),t.qZA(),t.TgZ(9,"td",18),t._UZ(10,"p-chip",30),t.qZA(),t.TgZ(11,"td",18),t._UZ(12,"p-chip",31),t.qZA(),t.TgZ(13,"td",18),t._UZ(14,"p-chip",32),t.qZA(),t.TgZ(15,"td",18),t._uU(16,"\u0ea5\u0ea7\u0ea1"),t.qZA()(),t.TgZ(17,"tr")(18,"td"),t._uU(19,"\u0e88\u0eb3\u0e99\u0ea7\u0e99"),t.qZA(),t.TgZ(20,"td",18),t._uU(21),t.qZA(),t.TgZ(22,"td",18),t._uU(23),t.qZA(),t.TgZ(24,"td",18),t._uU(25),t.qZA(),t.TgZ(26,"td",18),t._uU(27),t.qZA(),t.TgZ(28,"td",18),t._uU(29),t.qZA(),t.TgZ(30,"td",18),t._uU(31),t.qZA()(),t.TgZ(32,"tr")(33,"td"),t._uU(34,"\u0eaa\u0eb0\u0ec0\u0ea5\u0ec8\u0e8d (%)"),t.qZA(),t.TgZ(35,"td",33),t._uU(36),t.qZA(),t.TgZ(37,"td",33),t._uU(38),t.qZA(),t.TgZ(39,"td",33),t._uU(40),t.qZA(),t.TgZ(41,"td",34),t._uU(42),t.qZA(),t.TgZ(43,"td",34),t._uU(44),t.qZA(),t.TgZ(45,"td",18),t._uU(46),t.qZA()(),t.TgZ(47,"tr")(48,"td"),t._uU(49,"\u0e84\u0ea7\u0eb2\u0ea1\u0e94\u0eb8\u0ec8\u0e99\u0e94\u0ebd\u0e87"),t.qZA(),t.TgZ(50,"td",35),t.YNc(51,At,2,0,"span",36),t.qZA(),t.TgZ(52,"td",35),t.YNc(53,ft,2,0,"span",36),t.qZA(),t.TgZ(54,"td",35),t.YNc(55,vt,2,0,"span",36),t.qZA(),t._UZ(56,"td",37),t.qZA()(),t.TgZ(57,"div",38),t.YNc(58,Ct,1,0,"p-button",39),t.YNc(59,Bt,5,1,"p-tag",40),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(6),t.Q6J("styleClass",e.gradeService.getGradeClass("A")+" text-white font-bold px-3"),t.xp6(2),t.Q6J("styleClass",e.gradeService.getGradeClass("B")+" text-white font-bold px-3"),t.xp6(2),t.Q6J("styleClass",e.gradeService.getGradeClass("C")+" text-white font-bold px-3"),t.xp6(2),t.Q6J("styleClass",e.gradeService.getGradeClass("D")+" text-white font-bold px-3"),t.xp6(2),t.Q6J("styleClass",e.gradeService.getGradeClass("F")+" text-white font-bold px-3"),t.xp6(7),t.Oqu(e.divQuotaA),t.xp6(2),t.hij("",e.divQuotaB," "),t.xp6(2),t.hij("",e.divQuotaC," "),t.xp6(2),t.Oqu(e.divQuotaD),t.xp6(2),t.Oqu(e.divQuotaF),t.xp6(2),t.hij(" ",e.divQuotaA+e.divQuotaB+e.divQuotaC+e.divQuotaD+e.divQuotaF," "),t.xp6(4),t.Q6J("ngClass",e.divPercentA>e.deptPercentA?"bg-red-600":"bg-green-600"),t.xp6(1),t.hij(" ",e.divPercentA.toFixed(2),"% "),t.xp6(1),t.Q6J("ngClass",e.divPercentB>e.deptPercentB?"bg-red-600":"bg-green-600"),t.xp6(1),t.hij(" ",e.divPercentB.toFixed(2),"% "),t.xp6(1),t.Q6J("ngClass",e.divPercentC>e.deptPercentC?"bg-red-600":"bg-green-600"),t.xp6(1),t.hij(" ",e.divPercentC.toFixed(2),"% "),t.xp6(2),t.hij(" ",e.divPercentD.toFixed(2),"% "),t.xp6(2),t.hij(" ",e.divPercentF.toFixed(2),"% "),t.xp6(2),t.hij(" ",e.totalPercent.toFixed(0),"% "),t.xp6(4),t.Q6J("ngClass",t.VKq(28,I,e.divPercentA>e.deptPercentA)),t.xp6(1),t.Q6J("ngIf",e.divPercentA>e.deptPercentA),t.xp6(1),t.Q6J("ngClass",t.VKq(30,I,e.divPercentB>e.deptPercentB)),t.xp6(1),t.Q6J("ngIf",e.divPercentB>e.deptPercentB),t.xp6(1),t.Q6J("ngClass",t.VKq(32,I,e.divPercentC>e.deptPercentC)),t.xp6(1),t.Q6J("ngIf",e.divPercentC>e.deptPercentC),t.xp6(3),t.Q6J("ngIf",!e.isConfirmed),t.xp6(1),t.Q6J("ngIf",e.isConfirmed)}}function xt(i,n){if(1&i&&t.YNc(0,Zt,60,34,"div",25),2&i){const e=t.oxw();t.Q6J("ngIf",e.items&&(null==e.items?null:e.items.length))}}function bt(i,n){1&i&&(t.TgZ(0,"tr")(1,"td",46),t._uU(2,"\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99"),t.qZA()())}const Dt=function(){return[25,50,100]},_t=[{path:"",component:(()=>{class i{constructor(e,u,o,a,E,c,h,m,b,It){this.menuService=e,this.utilService=u,this.filter=o,this.gradeService=a,this.dialogRef=E,this.dialogService=c,this.cdr=h,this.apprService=m,this.fb=b,this.userService=It,this.items=[],this.isConfirmed=!1,this.isApprovalDisabled=!0,this.totalDivStaff=0,this.totalPercent=0,this.deptPercentA=D.c.MAXA,this.deptPercentB=D.c.MAXB,this.deptPercentC=D.c.MAXC,this.divPercentA=0,this.divPercentB=0,this.divPercentC=0,this.divPercentD=0,this.divPercentF=0,this.divQuotaA=0,this.divQuotaB=0,this.divQuotaC=0,this.divQuotaD=0,this.divQuotaF=0,this.filterFields=["staffCode","firstName","lastName","positionName"],this.screenHeight=0,this.destroy$=new N.x}ngOnInit(){this.formGroup=this.fb.formGroup(new R.L),this.initializeUserDetails(),this.subscribeToData(),this.checkScreenSize()}initializeUserDetails(){this.user=this.userService.getLoggedUser(),this.userRoleId=this.user?.role?.id,this.departmentId=this.user?.profile?.department?.id,this.divisionId=this.user?.profile?.division?.id}subscribeToData(){this.apprService.items$.pipe((0,O.R)(this.destroy$)).subscribe(e=>{this.items=e,this.processKpiScoreReport(e),this.cdr.markForCheck()})}processKpiScoreReport(e){this.totalDivStaff=e?.length,this.resetQuotas(),e?.forEach(u=>{this.sumDivQuotas(u.deptGrade??u.divGrade??u.sysGrade)}),this.updatePercentages()}updatePercentages(){this.totalDivStaff>0&&(this.divPercentA=this.divQuotaA/this.totalDivStaff*100,this.divPercentB=this.divQuotaB/this.totalDivStaff*100,this.divPercentC=this.divQuotaC/this.totalDivStaff*100,this.divPercentD=this.divQuotaD/this.totalDivStaff*100,this.divPercentF=this.divQuotaF/this.totalDivStaff*100,this.totalPercent=this.divPercentA+this.divPercentB+this.divPercentC+this.divPercentD+this.divPercentF)}resetQuotas(){this.divQuotaA=this.divQuotaB=this.divQuotaC=this.divQuotaD=this.divQuotaF=0}sumDivQuotas(e){switch(e){case"A":this.divQuotaA++;break;case"B":this.divQuotaB++;break;case"C":this.divQuotaC++;break;case"D":this.divQuotaD++;break;case"F":this.divQuotaF++}}onSelectMonth(e){this.selectedMonth=e,this.selectedMonth&&(this.prepareBatchCode(),this.getReport(),this.checkConfirmation())}prepareBatchCode(){const e=this.selectedMonth.getFullYear(),u=this.selectedMonth.getMonth()+1;this.batchCode=`${e}${u.toString().padStart(2,"0")}`}checkConfirmation(){this.apprService.checkConfirmStatus({batchCode:this.batchCode,departmentId:this.departmentId,divisionId:this.divisionId,isApproved:!0}).subscribe(u=>{this.isConfirmed=u})}getReport(){if(this.batchCode){const u=T.getMany({batchCode:this.batchCode,departmentId:this.departmentId,divisionId:this.divisionId});this.apprService.getMany(u).subscribe()}}onApprove(){this.dialogRef=this.dialogService.open(H,{header:"\u0ea2\u0eb7\u0e99\u0ea2\u0eb1\u0e99\u0e81\u0eb2\u0e99\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94",width:"65%",data:{data:{batchCode:this.batchCode,departmentId:this.departmentId,divisionId:this.divisionId}},contentStyle:{overflow:"auto","padding-bottom":"20px"},baseZIndex:1e4,dismissableMask:!1})}onResize(e){this.checkScreenSize()}checkScreenSize(){this.screenHeight=Math.floor(.6*window.innerHeight),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.dialogRef?.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.h),t.Y36(X.F),t.Y36(V.i),t.Y36(y.U),t.Y36(d.E7),t.Y36(d.xA),t.Y36(t.sBO),t.Y36(Z),t.Y36(r.GW),t.Y36(S.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-kpi-div-appr"]],hostBindings:function(e,u){1&e&&t.NdJ("resize",function(a){return u.onResize(a)},!1,t.Jf7)},decls:22,vars:11,consts:[[1,"p-grid","mt-4"],[1,"p-col-12"],[1,"flex","align-items-center","justify-content-between"],[1,"flex","align-items-center"],[1,"text-2xl","font-semibold","ml-2"],[1,"mr-2"],[3,"formGroup"],["for","monthPicker",1,"mr-2","font-semibold","text-lg"],["view","month","dateFormat","mm/yy","inputId","monthPicker","placeholder","\u0ec0\u0ea5\u0eb7\u0ead\u0e81\u0e9b\u0eb4/\u0ec0\u0e94\u0eb7\u0ead\u0e99","formControlName","batchCode","styleClass","mr-2",3,"readonlyInput","onSelect"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","\u0e84\u0ebb\u0ec9\u0e99\u0eab\u0eb2..",3,"input"],["responsiveLayout","scroll","styleClass","p-datatable-sm","currentPageReportTemplate","\u0eaa\u0eb0\u0ec1\u0e94\u0e87 {first} \u0ec0\u0e96\u0eb4\u0e87 {last} \u0e88\u0eb2\u0e81\u0e97\u0eb1\u0e87\u0edd\u0ebb\u0e94 {totalRecords} \u0ea5\u0eb2\u0e8d\u0e81\u0eb2\u0e99",3,"value","globalFilterFields","rowHover","scrollable","scrollHeight","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[1,"text-center"],[1,"white-space-nowrap","text-center"],[1,"white-space-nowrap"],[1,"text-center",3,"ngStyle"],[1,"white-space-nowrap","text-center","font-bold"],[3,"label","styleClass"],[3,"item"],["class","px-8 pt-6 font-bold text-xl",4,"ngIf"],[1,"px-8","pt-6","font-bold","text-xl"],[1,"table-custom"],["label","A (5%)",3,"styleClass"],["label","B (30%)",3,"styleClass"],["label","C (50%)",3,"styleClass"],["label","D (\u0e9a\u0ecd\u0ec8\u0e88\u0eb3\u0e81\u0eb1\u0e94)",3,"styleClass"],["label","F (\u0e9a\u0ecd\u0ec8\u0e88\u0eb3\u0e81\u0eb1\u0e94)",3,"styleClass"],[1,"text-center","text-white",3,"ngClass"],[1,"bg-green-600","text-center","text-white"],[1,"text-center","font-semibold",3,"ngClass"],[4,"ngIf"],["colspan","3"],[1,"text-center","mt-7","mb-6"],["label","\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99","styleClass","p-button-rounded text-xl font-bold px-6",3,"onClick",4,"ngIf"],["severity","success","styleClass","text-xl px-6 py-2",3,"rounded",4,"ngIf"],["label","\u0ead\u0eb0\u0e99\u0eb8\u0ea1\u0eb1\u0e94\u0e9c\u0ebb\u0e99\u0e84\u0eb0\u0ec1\u0e99\u0e99","styleClass","p-button-rounded text-xl font-bold px-6",3,"onClick"],["severity","success","styleClass","text-xl px-6 py-2",3,"rounded"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-check-circle"],[1,"text-xl"],["colspan","14",1,"text-center","py-4"]],template:function(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"div",5)(8,"form",6)(9,"label",7),t._uU(10,"\u0e9b\u0eb0\u0e88\u0eb3\u0ec0\u0e94\u0eb7\u0ead\u0e99:"),t.qZA(),t.TgZ(11,"p-calendar",8),t.NdJ("onSelect",function(E){return u.onSelectMonth(E)}),t.qZA(),t.TgZ(12,"span",9),t._UZ(13,"i",10),t.TgZ(14,"input",11),t.NdJ("input",function(E){t.CHM(o);const c=t.MAs(17);return t.KtG(u.filter.dataTable(c,E))}),t.qZA()()()()()(),t._UZ(15,"hr"),t.TgZ(16,"p-table",12,13),t.YNc(18,mt,29,0,"ng-template",14),t.YNc(19,ht,29,18,"ng-template",15),t.YNc(20,xt,1,1,"ng-template",16),t.YNc(21,bt,3,0,"ng-template",17),t.qZA()()()}2&e&&(t.xp6(5),t.hij("\u0eaa\u0eb0\u0ea1\u0eb2\u0e8a\u0eb4\u0e81\u0e97\u0eb5\u0ec8\u0ea1\u0eb5\u0e81\u0eb2\u0e99\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99\u0e97\u0eb1\u0e87\u0edd\u0ebb\u0e94 (",u.totalDivStaff,") \u0e97\u0ec8\u0eb2\u0e99"),t.xp6(3),t.Q6J("formGroup",u.formGroup),t.xp6(3),t.Q6J("readonlyInput",!0),t.xp6(5),t.Q6J("value",u.items)("globalFilterFields",u.filterFields)("rowHover",!0)("scrollable",!0)("scrollHeight",u.screenHeight+"px")("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(10,Dt)))},dependencies:[p.mk,p.O5,p.PC,l._Y,l.JJ,l.JL,l.sg,l.u,r.bc,r.VP,r.YE,w.f,C.zx,q.jx,j.iA,F.o,K.V,x.A,ct],encapsulation:2,changeDetection:0}),i})()}];let Tt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.Bz.forChild(_t),J.Bz]}),i})();var Ut=s(4466),yt=s(666),St=s(3608),qt=s(2825);let Qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,Tt,Ut.m,w._8,j.U$,Q.L,F.j,k.l,C.hJ,St.z,K.W,yt.kW,x.o,U.A,qt.$]}),i})()}}]);