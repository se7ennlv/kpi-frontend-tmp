"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[7145],{7145:(Jt,C,o)=>{o.r(C),o.d(C,{EvalTaskDescModule:()=>wt});var r=o(6895),y=o(5675),D=o(7579),U=o(2722),t=o(8274),p=o(830),_=o(8145),d=o(4325),S=o(1094),$=o(6832),m=o(793),b=o(805),f=o(3608),O=o(3948),E=o(2156),w=o(7489),h=o(6522),q=o(1884),g=o(4090),z=o(9737),k=o(704),L=o(841),V=o(1481),c=o(433),v=o(5593),A=o(6679),B=o(2946),Z=o(7147),K=o(3609),I=o(3054),W=o(8739),X=o(904);function tt(n,l){1&n&&(t.TgZ(0,"span",8),t._uU(1,"\u0e81\u0eb2\u0e99\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99\u0e82\u0ead\u0e87 (\u0eaa\u0eb0\u0ea1\u0eb2\u0e8a\u0eb4\u0e81)"),t.qZA())}const et=function(n){return{"background-color":n}};function nt(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"div",10)(2,"label",21),t._uU(3,"\u0edc\u0ec9\u0eb2\u0ea7\u0ebd\u0e81"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"div",22)(7,"div")(8,"label",8),t._uU(9,"\u0ea5\u0eb3\u0e94\u0eb1\u0e9a\u0e84\u0ea7\u0eb2\u0ea1\u0eaa\u0eb3\u0e84\u0eb1\u0e99:"),t.qZA()(),t._UZ(10,"p-tag",23),t.qZA(),t.BQk()),2&n){const e=l.ngIf,u=t.oxw().ngIf;t.xp6(5),t.Oqu(null==u?null:u.taskSubject),t.xp6(5),t.Akn(t.VKq(5,et,null==e||null==e.priority?null:e.priority.color)),t.Q6J("value",null==e||null==e.priority?null:e.priority.name)("rounded",!0)}}function ot(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"p-chip",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(3);return t.KtG(a.showPreviewFromUrl(null==s?null:s.filePath))}),t._UZ(1,"i",28),t.TgZ(2,"span",29),t._uU(3),t.qZA()()}if(2&n){const e=l.$implicit;t.xp6(3),t.hij("",null==e?null:e.fileName," ")}}function ut(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"div",10)(2,"label",9),t._uU(3,"\u0ec0\u0ead\u0e81\u0eb0\u0eaa\u0eb2\u0e99\u0ec1\u0e99\u0e9a"),t.qZA(),t._UZ(4,"hr",24),t.TgZ(5,"div",25),t.YNc(6,ot,4,1,"ng-template",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw().ngIf;t.xp6(6),t.Q6J("ngForOf",e.attachments)}}function it(n,l){1&n&&(t.TgZ(0,"span",8),t._uU(1,"\u0e81\u0eb2\u0e99\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99\u0e82\u0ead\u0e87 (\u0eab\u0ebb\u0ea7\u0edc\u0ec9\u0eb2)"),t.qZA())}function lt(n,l){1&n&&(t.TgZ(0,"small",30),t._uU(1," *\u0e81\u0eb0\u0ea5\u0eb8\u0e99\u0eb2\u0e9b\u0ec9\u0ead\u0e99\u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99 "),t.qZA())}function st(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",1)(2,"div",2)(3,"p-fieldset",3),t.YNc(4,tt,2,0,"ng-template",4),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div")(9,"label",8),t._uU(10,"\u0e9b\u0eb0\u0e88\u0eb3\u0e9b\u0eb5:"),t.qZA()(),t.TgZ(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"label",9),t._uU(15,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99:"),t.qZA(),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",10)(19,"label",9),t._uU(20,"\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99\u0ec2\u0e94\u0e8d:"),t.qZA(),t._uU(21),t.qZA(),t.YNc(22,nt,11,7,"ng-container",0),t.TgZ(23,"div",10)(24,"label",9),t._uU(25,"\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94\u0e84\u0ea7\u0eb2\u0ea1\u0e84\u0eb7\u0e9a\u0edc\u0ec9\u0eb2"),t.qZA(),t._UZ(26,"div",11),t.qZA(),t.TgZ(27,"div")(28,"label",9),t._uU(29,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ec0\u0ea5\u0eb5\u0ec8\u0ea1\u0e9b\u0eb0\u0e95\u0eb4\u0e9a\u0eb1\u0e94:"),t.qZA(),t._uU(30),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"div",10)(33,"label",9),t._uU(34,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0eaa\u0eb3\u0ec0\u0ea5\u0eb1\u0e94:"),t.qZA(),t._uU(35),t.ALo(36,"date"),t.qZA(),t.TgZ(37,"div",10),t._UZ(38,"app-indicator-detail",12),t.qZA(),t.YNc(39,ut,7,1,"ng-container",0),t.qZA()()()(),t.TgZ(40,"p-fieldset",13),t.YNc(41,it,2,0,"ng-template",4),t._UZ(42,"app-score-option",14),t.qZA(),t.TgZ(43,"div",15)(44,"textarea",16),t._uU(45,"                "),t.qZA(),t.YNc(46,lt,2,0,"small",17),t.qZA()(),t.TgZ(47,"div",18)(48,"p-button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA(),t.TgZ(49,"p-button",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t.qZA()(),t.BQk()}if(2&n){const e=l.ngIf,u=t.oxw();t.xp6(1),t.Q6J("formGroup",u.formGroup),t.xp6(2),t.Q6J("toggleable",!0),t.xp6(9),t.Oqu(null==e?null:e.docYear),t.xp6(4),t.hij(" ",t.xi3(17,22,null==e?null:e.createdAt,"dd/MM/yyyy HH:mm")," "),t.xp6(5),t.AsE(" ",null==e||null==e.staff?null:e.staff.firstName," ",null==e||null==e.staff?null:e.staff.lastName," "),t.xp6(1),t.Q6J("ngIf",null==e?null:e.task),t.xp6(4),t.Q6J("innerHTML",u.transform(null==e?null:e.reportDetail),t.oJD),t.xp6(4),t.hij(" ",t.xi3(31,25,null==e?null:e.scheduledStart,"dd/MM/yyyy")," "),t.xp6(5),t.hij(" ",t.xi3(36,28,null==e?null:e.scheduledEnd,"dd/MM/yyyy HH:mm")," "),t.xp6(3),t.Q6J("item",e)("isHead",!0),t.xp6(1),t.Q6J("ngIf",e.attachments&&e.attachments.length),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(2),t.Q6J("item",e)("isHead",!0)("submitted",u.submitted),t.xp6(2),t.Q6J("autoResize",!0),t.xp6(2),t.Q6J("ngIf",u.submitted&&u.controls.comment.errors),t.xp6(2),t.Q6J("disabled",u.formGroup.disabled),t.xp6(1),t.Q6J("loading",u.formGroup.disabled)("disabled",u.formGroup.disabled)}}function at(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-file-preview",31),t.NdJ("closePreview",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeImgPreview())}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("selectedFileOrUrl",e.fileSrc)}}let rt=(()=>{class n{constructor(e,u,i,s,a,T,kt,It,Ft){this.fb=e,this.alertService=u,this.formService=i,this.dialogConfig=s,this.dialogRef=a,this.sanitizer=T,this.headEvalService=kt,this.cdr=It,this.utilService=Ft,this.submitted=!1,this.visiblePreview=!1,this.destroy$=new D.x,this.formGroup=this.fb.formGroup(new z.P),E.jc.set(this.formService.validationMessages)}get controls(){return this.formGroup.controls}ngOnInit(){this.subscribeData()}subscribeData(){this.evalId=this.dialogConfig.data.data,this.getDetail(this.evalId),this.headEvalService.item$.pipe((0,U.R)(this.destroy$),(0,q.x)()).subscribe(e=>{this.evaluation=e,e&&this.dataAnalyzing()})}getDetail(e){if(e){const i=h._.getDetail({id:e},!1);this.headEvalService.getOne(i).subscribe()}}dataAnalyzing(){if(console.log(this.evaluation),this.taskMain=this.evaluation?.task,this.taskMain){const e=this.getRelevantIndicators();this.setIndicatorValidators(e),this.cdr.markForCheck()}}getRelevantIndicators(){const u=w.pick(this.evaluation,["selfTimeScore","selfQuantityScore","selfQualityScore","selfSatisfiedScore"]);return w.pickBy(u,i=>null!=i&&""!==i&&0!=+i)}setIndicatorValidators(e){Object.entries(e).forEach(([u,i])=>{const s=g.qu.head[u],a=this.formGroup.get(s);a&&(this.formGroup.patchValue({[s]:s!==g.qu.head[u]?0:null}),a.setValidators([E.CM.required()]),a.updateValueAndValidity())})}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}onSubmit(){if(this.submitted=!0,this.formGroup.invalid)return;const e=this.evaluation?.id,u=this.formGroup.value;this.formGroup.disable(),this.headEvalService.updateAndRemove(+e,u).subscribe({next:i=>{i&&(this.closeDialog(),this.alertService.showSuccess("\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99\u0eae\u0ebd\u0e9a\u0eae\u0ec9\u0ead\u0e8d\u0ec1\u0ea5\u0ec9\u0ea7"))},error:i=>{this.formGroup.enable(),this.alertService.showError(i)}})}closeDialog(){this.submitted=!1,this.formGroup.reset(),this.formGroup.enable(),this.dialogRef.close()}showPreviewFromUrl(e){e&&(this.utilService.isValidUrl(e)?(this.fileSrc=e,this.visiblePreview=!0):this.alertService.showDanger("\u0eae\u0eb9\u0e9a\u0ec1\u0e9a\u0e9a\u0e97\u0eb5\u0ec8\u0ea2\u0eb9\u0ec8\u0e82\u0ead\u0e87\u0ec4\u0e9f\u0ea5\u0ecc\u0e9a\u0ecd\u0ec8\u0e96\u0eb7\u0e81\u0e95\u0ec9\u0ead\u0e87!"))}closeImgPreview(){this.visiblePreview=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.dialogRef?.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.GW),t.Y36(k.c),t.Y36(L.k),t.Y36(d.S),t.Y36(d.E7),t.Y36(V.H7),t.Y36(p.P),t.Y36(t.sBO),t.Y36(S.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evalution-form"]],decls:3,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"mb-4"],[3,"toggleable"],["pTemplate","header"],[1,"formgrid","grid","p-fluid"],[1,"col-12"],[1,"flex","align-items-center","gap-2"],[1,"font-semibold","text-xl"],[1,"font-semibold","text-xl","mb-0"],[1,"field"],[3,"innerHTML"],[3,"item","isHead"],["styleClass","mb-3",3,"toggleable"],[3,"item","isHead","submitted"],[1,""],["id","comment","rows","2","cols","30","pInputTextarea","","formControlName","comment","placeholder","\u0e84\u0eb3\u0ec0\u0eab\u0eb1\u0e99\u0e82\u0ead\u0e87\u0eab\u0ebb\u0ea7\u0edc\u0ec9\u0eb2",1,"w-full",3,"autoResize"],["class","p-error",4,"ngIf"],[1,"text-right","sticky","bottom-0","mt-5"],["label","\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81","icon","pi pi-times","styleClass","p-button-outlined mr-2",3,"disabled","click"],["label","\u0e9a\u0eb1\u0e99\u0e97\u0eb6\u0e81","icon","pi pi-check",3,"loading","disabled","click"],["for","address",1,"font-semibold","text-xl","mb-0"],[1,"field","flex","align-items-center","gap-2"],["styleClass","px-4",3,"value","rounded"],[1,"mt-0"],[1,"flex","gap-2"],["ngFor","",3,"ngForOf"],["styleClass","cursor-pointer",3,"click"],[1,"pi","pi-paperclip","mr-2","text-green-500"],[1,"w-8rem","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"p-error"],[3,"selectedFileOrUrl","closePreview"]],template:function(e,u){1&e&&(t.TgZ(0,"div"),t.YNc(1,st,50,31,"ng-container",0),t.qZA(),t.YNc(2,at,2,1,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",u.evaluation),t.xp6(1),t.Q6J("ngIf",u.visiblePreview))},dependencies:[r.sg,r.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,E.bc,E.VP,E.YE,b.jx,v.zx,A.V,B.p,Z.A,K.Q,I.g,W.Q,X.M,r.uU],encapsulation:2,changeDetection:0}),n})();var Et=o(209),ct=o(5442),dt=o(6915),x=o(605);let pt=(()=>{class n{constructor(e,u,i,s){this.dialogRef=e,this.dialogService=u,this.headEvalService=i,this.alertService=s,this.menuItems=[],this.dialogConfig={width:window.innerWidth>Et.A.lg?"65%":"80%",contentStyle:{overflow:"auto","padding-bottom":"20px"},baseZIndex:1e4,dismissableMask:!1,maximizable:!0}}ngOnInit(){}setActionMenus(){this.menuItems=this.task?.isLock?[]:[{label:"\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99",icon:"pi pi-fw pi-check",command:()=>this.onEvaluation(this.task?.id)},{label:"\u0e9a\u0ecd\u0ec8\u0ec0\u0eab\u0eb1\u0e99\u0e94\u0eb5",icon:"pi pi-fw pi-times",command:()=>this.onReject(this.task?.id)}]}showDetail(){if(this.task){const u=h._.getDetail({id:this.task?.id},!1);this.headEvalService.getOne(u).subscribe({next:i=>{i?.data&&(this.dialogRef=this.dialogService.open(ct.z,{header:`\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94\u0e81\u0eb2\u0e99\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99 #${this.task?.id}`,data:{data:i.data},...this.dialogConfig}))},error:i=>{this.alertService.showError(i)}})}}onEvaluation(e){e&&(this.dialogRef=this.dialogService.open(rt,{header:`\u0e81\u0eb2\u0e99\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99 \u0ec1\u0ea5\u0eb0 \u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99\u0edc\u0ec9\u0eb2\u0ea7\u0ebd\u0e81 #${e}`,data:{data:e},...this.dialogConfig}))}onReject(e){this.dialogRef=this.dialogService.open(dt.r,{header:`\u0e9a\u0ecd\u0ec0\u0eab\u0eb1\u0e99\u0e94\u0eb5\u0e95\u0eb2\u0ea1\u0e81\u0eb2\u0e99\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99 (Reject) #${e}`,data:{data:{id:e,taskType:g.UA.DESCRIPTION}},...this.dialogConfig})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.E7),t.Y36(d.xA),t.Y36(p.P),t.Y36(k.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-btn-action"]],inputs:{task:"task"},decls:1,vars:1,consts:[["appendTo","body","label","\u0ec0\u0e9a\u0eb4\u0ec8\u0e87\u0ea5\u0eb2\u0e8d\u0ea5\u0eb0\u0ead\u0ebd\u0e94","styleClass","p-button-secondary p-button-sm",3,"model","onClick","onDropdownClick"]],template:function(e,u){1&e&&(t.TgZ(0,"p-splitButton",0),t.NdJ("onClick",function(){return u.showDetail()})("onDropdownClick",function(){return u.setActionMenus()}),t.qZA()),2&e&&t.Q6J("model",u.menuItems)},dependencies:[x.a],encapsulation:2}),n})();function mt(n,l){1&n&&(t.TgZ(0,"tr")(1,"th",8),t._uU(2,"#"),t.qZA(),t.TgZ(3,"th",8),t._uU(4,"\u0e9b\u0eb0\u0e88\u0eb3\u0e9b\u0eb5"),t.qZA(),t.TgZ(5,"th",8),t._uU(6,"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99"),t.qZA(),t.TgZ(7,"th",8),t._uU(8,"\u0ea5\u0eb0\u0eab\u0eb1\u0e94 "),t._UZ(9,"br"),t._uU(10," \u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99"),t.qZA(),t.TgZ(11,"th",8),t._uU(12,"\u0ea5\u0eb0\u0eab\u0eb1\u0e94 "),t._UZ(13,"br"),t._uU(14," \u0ea7\u0ebd\u0e81"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"\u0edc\u0ec9\u0eb2\u0ea7\u0ebd\u0e81\u0ea5\u0eb2\u0e8d\u0e87\u0eb2\u0e99"),t.qZA(),t.TgZ(17,"th",10),t._uU(18,"\u0e81\u0eb2\u0e99\u0e9b\u0eb0\u0ec0\u0ea1\u0eb5\u0e99\u0e82\u0ead\u0e87 (\u0eaa\u0eb0\u0ea1\u0eb2\u0e8a\u0eb4\u0e81)"),t.qZA(),t.TgZ(19,"th",11),t._uU(20,"\u0eaa\u0eb0\u0e96\u0eb2\u0e99\u0eb0"),t.qZA(),t.TgZ(21,"th",11),t._uU(22,"\u0e94\u0eb3\u0ec0\u0e99\u0eb5\u0e99\u0e81\u0eb2\u0e99"),t.qZA()(),t.TgZ(23,"tr")(24,"th",12)(25,"div",13)(26,"small"),t._uU(27,"\u0ec0\u0ea7\u0ea5\u0eb2"),t.qZA()()(),t.TgZ(28,"th",12)(29,"div",13)(30,"small"),t._uU(31,"\u0e9b\u0eb0\u0ea5\u0eb4\u0ea1\u0eb2\u0e99"),t.qZA()()(),t.TgZ(32,"th",12)(33,"div",13)(34,"small"),t._uU(35,"\u0e84\u0eb8\u0e99\u0e99\u0eb0\u0e9e\u0eb2\u0e9a"),t.qZA()()(),t.TgZ(36,"th",12)(37,"div",13)(38,"small"),t._uU(39,"\u0e84\u0ea7\u0eb2\u0ea1\u0ec0\u0e9e\u0eb4\u0ec8\u0e87\u0e9e\u0ecd\u0ec3\u0e88"),t.qZA()()()())}function gt(n,l){if(1&n&&(t.TgZ(0,"tr",14)(1,"td",15)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const e=l.$implicit;t.xp6(3),t.lnq(" [",null==e||null==e.staff?null:e.staff.staffCode,"]-",null==e||null==e.staff?null:e.staff.firstName," ",null==e||null==e.staff?null:e.staff.lastName," ")}}const ft=function(){return{width:"50px"}};function ht(n,l){if(1&n&&(t.TgZ(0,"tr")(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.qZA(),t.TgZ(5,"td",18),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td",18),t._uU(9),t.qZA(),t.TgZ(10,"td",18),t._uU(11),t.qZA(),t.TgZ(12,"td",19)(13,"div",20),t._uU(14),t.qZA()(),t.TgZ(15,"td",21),t._uU(16),t.qZA(),t.TgZ(17,"td",21),t._uU(18),t.qZA(),t.TgZ(19,"td",21),t._uU(20),t.qZA(),t.TgZ(21,"td",21),t._uU(22),t.qZA(),t.TgZ(23,"td",12),t._UZ(24,"app-task-status",22),t.qZA(),t.TgZ(25,"td",18),t._UZ(26,"app-btn-action",23),t.qZA()()),2&n){const e=l.$implicit,u=l.rowIndex,i=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.DdM(17,ft)),t.xp6(1),t.hij(" ",u+1," "),t.xp6(2),t.hij(" ",null==e?null:e.docYear," "),t.xp6(2),t.hij(" ",t.xi3(7,14,null==e?null:e.createdAt,"dd/MM/yyyy HH:mm")," "),t.xp6(3),t.hij(" ",null==e?null:e.id," "),t.xp6(2),t.hij(" ",null==e?null:e.taskId," "),t.xp6(1),t.Q6J("pTooltip",i.utilService.getTooltip(null==e?null:e.taskSubject,25)),t.xp6(2),t.hij(" ",null==e?null:e.taskSubject," "),t.xp6(2),t.Oqu(null==e?null:e.selfTimeScore),t.xp6(2),t.Oqu(null==e?null:e.selfQuantityScore),t.xp6(2),t.Oqu(null==e?null:e.selfQualityScore),t.xp6(2),t.Oqu(null==e?null:e.selfSatisfiedScore),t.xp6(2),t.Q6J("taskStatus",null==e?null:e.status),t.xp6(2),t.Q6J("task",e)}}function vt(n,l){1&n&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"\u0e9a\u0ecd\u0ec8\u0e9e\u0ebb\u0e9a\u0e82\u0ecd\u0ec9\u0ea1\u0eb9\u0e99"),t.qZA()())}const At=function(){return[25,50,100]};let Bt=(()=>{class n{constructor(e,u,i,s,a,T){this.cdr=e,this.headEvalService=u,this.menuService=i,this.dialogRef=s,this.utilService=a,this.filter=T,this.tasks=[],this.screenHeight=0,this.text="",this.showMenu$=this.menuService.menuState$,this.destroy$=new D.x}ngOnInit(){this.headEvalService.items$.pipe((0,U.R)(this.destroy$)).subscribe(e=>{this.tasks=e,this.cdr.markForCheck()}),this.checkScreenSize()}onResize(e){this.checkScreenSize()}checkScreenSize(){this.screenHeight=Math.floor(.6*window.innerHeight),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete(),this.dialogRef&&this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(p.P),t.Y36(_.h),t.Y36(d.E7),t.Y36(S.F),t.Y36($.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-eval-task-desc"]],hostBindings:function(e,u){1&e&&t.NdJ("resize",function(s){return u.onResize(s)},!1,t.Jf7)},decls:8,vars:9,consts:[[1,"p-grid"],[1,"p-col-12"],["responsiveLayout","scroll","rowGroupMode","subheader","groupRowsBy","staff.staffCode","dataKey","id","styleClass","p-datatable-sm mt-4","currentPageReportTemplate","\u0eaa\u0eb0\u0ec1\u0e94\u0e87 {first} \u0ec0\u0e96\u0eb4\u0e87 {last} \u0e88\u0eb2\u0e81\u0e97\u0eb1\u0e87\u0edd\u0ebb\u0e94 {totalRecords} \u0ea5\u0eb2\u0e8d\u0e81\u0eb2\u0e99",3,"value","rows","paginator","rowHover","scrollable","scrollHeight","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","groupheader"],["pTemplate","body"],["pTemplate","emptymessage"],["rowspan","2",1,"white-space-nowrap","text-center"],["rowspan","2",1,"white-space-nowrap"],["colspan","4",1,"text-center","white-space-nowrap"],["rowspan","2",1,"text-center","white-space-nowrap"],[1,"text-center","white-space-nowrap"],[1,"-rotate-25"],["pRowGroupHeader",""],["colspan","12"],[1,"text-groupheader","font-semibold","text-xl"],[1,"text-center","white-space-nowrap",3,"ngStyle"],[1,"white-space-nowrap","text-center"],["tooltipPosition","bottom","tooltipStyleClass","custom-tooltip",3,"pTooltip"],[1,"max-w-15rem","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"text-center","white-space-nowrap","font-semibold"],[3,"taskStatus"],[3,"task"],["colspan","12",1,"text-center","py-4"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p-table",2,3),t.YNc(4,mt,40,0,"ng-template",4),t.YNc(5,gt,4,3,"ng-template",5),t.YNc(6,ht,27,18,"ng-template",6),t.YNc(7,vt,3,0,"ng-template",7),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("value",u.tasks)("rows",25)("paginator",!0)("rowHover",!0)("scrollable",!0)("scrollHeight",u.screenHeight+"px")("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,At)))},dependencies:[r.PC,m.iA,b.jx,m.Z5,f.u,O.h,pt,r.uU],encapsulation:2,changeDetection:0}),n})();var Zt=o(8386);const xt=[{path:"",component:Bt,resolve:{data:(()=>{class n{constructor(e,u){this.headEvalService=e,this.userService=u,this.user=this.userService.getLoggedUser()}resolve(e,u){const i=this.user?.profile?.staffCode,s=Object.assign({headCode:i,statusId:g.hY.WAIT_HEAD_EVAL,isLock:!1,isActive:!0}),a=h._.getWaiting(s,!1);return this.headEvalService.getMany(a)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p.P),t.LFG(Zt.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}];let Tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[y.Bz.forChild(xt),y.Bz]}),n})();var Ct=o(4466),F=o(8639),J=o(1989),Y=o(1740),R=o(613),M=o(1119),H=o(1889),Q=o(585),P=o(5047),j=o(8455),G=o(2008),N=o(4396),yt=o(2448),Dt=o(3241),Ut=o(9981),St=o(9615),bt=o(8191);let wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,Tt,Ct.m,m.U$,v.hJ,A.W,f.z,F.TX,R.cc,B.L,Q._8,Y.j,P.L$,G.l,Z.o,N.y,j.$,J.nD,x.l,M.H,H.P,yt.q,m.U$,v.hJ,A.W,f.z,F.TX,R.cc,B.L,Q._8,Y.j,I.A,P.L$,G.l,Z.o,N.y,j.$,J.nD,x.l,M.H,H.P,Dt.$,Ut.o,St.E,bt.P]}),n})()}}]);